!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){window,t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./dist/",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={create:function(){var t=document,e=t.createDocumentFragment(),n=t.createElement("div"),o=this.zIndex||1e3;n.innerHTML='\n            <div class="toast-container"\n                style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: '+o+'; background-color: rgba(0,0,0,0.5); display: none">\n                <div class="toast-content-container"\n                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); -webkit-transform: translate(-50%, -50%);"\n                >\n                    <div id="toastContent" class="toast-content" style="padding: 4px 10px; -webkit-transition: -webkit-transform 500ms ease-out, opacity 500ms ease-out; transition: transform 500ms ease-out, opacity 500ms ease-out; background-color: #000; border-radius: 4px; color: #fff;"\n                    ></div>\n                </div>\n            </div>\n        ',this.toast=n.children[0],e.appendChild(this.toast),t.body.appendChild(e)},setZIndex:function(t){this.zIndex=t,this.toast&&(this.toast.style.zIndex=t)},show:function(t,e){var n=this;this.toast||this.create();var o=this.toast,r=o.ownerDocument,i=r.getElementById("toastContent");i.innerHTML="",i.appendChild(r.createTextNode(t)),this.playShowAnim(i),o.style.display="block",setTimeout(function(){return n.hide()},e||2e3)},playShowAnim:function(t){t.style.transform="translateY(-40px)",t.style.webkitTransform="translateY(-40px)",t.style.opacity=0,setTimeout(function(){t.style.transform="translateY(0px)",t.style.webkitTransform="translateY(0px)",t.style.opacity=1})},hide:function(){var t=this,e=this.toast.ownerDocument.getElementById("toastContent");this.playHideAnim(e);var n=function(){console.log("in after anim"),t.toast.style.display="none"};e.style.transition?this.addOnceEvent(e,"transitionend",n):e.style.webkitTransition?this.addOnceEvent(e,"webkitTransitionEnd",n):n()},addOnceEvent:function(t,e,n){var o=this,r=arguments;t.addEventListener(e,function i(){t.removeEventListener(e,i),n.apply(o,r)})},playHideAnim:function(t){t.style.transform="translateY(10px)",t.style.webkitTransform="translateY(10px)",t.style.opacity=0}};e.default=o}])},function(t,e){t.exports=class{constructor(t,e=!1){this.src=t,this.context=new(window.AudioContext||window.webkitAudioContext),this.loaded=!1,this.buffer=null,this.source=null,this.debugState=e,this.startedAt=0,this.offset=0,this.loopState=!1,this.listeners={},this.ownListeners={},this.playing=!1,this.ownEvents=["play","stop","pause","forward","rewind","load","loaded"],this.initSource()}initSource(){this.source=this.context.createBufferSource(),this.source.connect(this.context.destination);const t=Object.keys(this.listeners);t.length&&t.map(t=>{this.log(`Re-add event: ${t}`),this.source.addEventListener(t,this.listeners[t])})}clearSource(){this.source&&(this.playing&&this.source.stop(),this.source.disconnect(),this.initSource())}stop(){this.playing&&(this.clearSource(),this.startedAt=0,this.offset=0,this.playing=!1,this.log("Stopped."),"function"==typeof this.ownListeners.stop&&this.ownListeners.stop())}load(t){return t=t||this.src,this.log("Loading",t),"function"==typeof this.ownListeners.load&&this.ownListeners.load(t),this.loaded&&(this.clearSource(),this.loaded=!1),"string"!=typeof t?(this.fetcher=this.context.decodeAudioData(t).then(t=>{this.loaded=!0,this.buffer=t,"function"==typeof this.ownListeners.loaded&&this.ownListeners.loaded()}),this):(this.fetcher=window.fetch(t,{method:"GET",mode:"no-cors"}).then(t=>t.arrayBuffer()).then(t=>this.context.decodeAudioData(t)).then(t=>{this.loaded=!0,this.buffer=t,"function"==typeof this.ownListeners.loaded&&this.ownListeners.loaded()}),this)}getPlayTime(){return this.context.currentTime-this.startedAt+this.offset}play(t){if("suspended"!==this.context.state)return this.loaded?void(this.source.buffer||(this.source.buffer=this.buffer,this.source.loopEnd=this.buffer.duration,this.source.loop=this.loopState,this.startedAt=this.context.currentTime,this.source.start(0,t),this.playing=!0,this.source.addEventListener("ended",()=>this.stop()),this.log("Playing..."),"function"==typeof this.ownListeners.play&&this.ownListeners.play())):(this.log("Waiting for buffer to load..."),void this.fetcher.then(()=>this.play()));this.context.resume()}pause(){this.context.suspend(),this.playing=!1,this.log("Paused."),"function"==typeof this.ownListeners.pause&&this.ownListeners.pause()}loop(t){return this.loopState=t,this.log("Loop:",t?"ON":"OFF"),this.source.loop=t,this}toggleLoop(){return this.loopState=!this.loopState,this.log("Toggle loop:",this.loopState?"ON":"OFF"),this.source.loop=this.loopState,this}forward(t=5){this.log(`>> Forward ${t} seconds`),"function"==typeof this.ownListeners.forward&&this.ownListeners.forward(t);const e=this.getPlayTime();this.offset=e+t,this.offset>this.buffer.duration&&(this.offset=this.buffer.duration-t),this.log("Play @",this.offset),this.clearSource(),this.play(this.offset)}rewind(t=5){this.log(`<< Rewind ${t} seconds`),"function"==typeof this.ownListeners.rewind&&this.ownListeners.rewind(t);const e=this.getPlayTime();this.offset=e-t,this.offset<0&&(this.offset=0),this.log("Play @",this.offset),this.clearSource(),this.play(this.offset)}useKeyboard(t){this.log("Using keyboard.");let e=document.body;return t&&(e=document.querySelector(t)),e.addEventListener("keydown",({key:t})=>{const e={ArrowRight:()=>this.forward(),ArrowLeft:()=>this.rewind(),z:()=>this.stop(),x:()=>this.play(),c:()=>this.pause(),l:()=>this.toggleLoop()}[t];e&&e()}),this}isOwnEvent(t){return this.ownEvents.includes(t)}on(t,e){return this.isOwnEvent(t)?(this.ownListeners[t]=e,this):(this.source.addEventListener(t,e),this.listeners[t]=e,this)}debug(t){return this.debugState=t,this}log(){this.debugState&&console.log("Player:",...arguments)}}},function(t,e,n){t.exports=function(t,e){if("string"==typeof t){var n=t;if(!(t=window.document.querySelector(t)))throw new Error('"'+n+'" does not match any HTML elements')}if(!t)throw new Error('"'+t+'" is not a valid HTML element');"function"==typeof e&&(e={onDrop:e});var s;return t.addEventListener("dragenter",a,!1),t.addEventListener("dragover",u,!1),t.addEventListener("dragleave",l,!1),t.addEventListener("drop",c,!1),function(){f(),t.removeEventListener("dragenter",a,!1),t.removeEventListener("dragover",u,!1),t.removeEventListener("dragleave",l,!1),t.removeEventListener("drop",c,!1)};function a(t){return e.onDragEnter&&e.onDragEnter(t),t.stopPropagation(),t.preventDefault(),!1}function u(n){if(n.stopPropagation(),n.preventDefault(),e.onDragOver&&e.onDragOver(n),n.dataTransfer.items){var o=Array.from(n.dataTransfer.items),r=o.filter(function(t){return"file"===t.kind}),i=o.filter(function(t){return"string"===t.kind});if(0===r.length&&!e.onDropText)return;if(0===i.length&&!e.onDrop)return;if(0===r.length&&0===i.length)return}return t.classList.add("drag"),clearTimeout(s),n.dataTransfer.dropEffect="copy",!1}function l(t){return t.stopPropagation(),t.preventDefault(),e.onDragLeave&&e.onDragLeave(t),clearTimeout(s),s=setTimeout(f,50),!1}function c(t){t.stopPropagation(),t.preventDefault(),e.onDragLeave&&e.onDragLeave(t),clearTimeout(s),f();var n={x:t.clientX,y:t.clientY},a=t.dataTransfer.getData("text");if(a&&e.onDropText&&e.onDropText(a,n),e.onDrop&&t.dataTransfer.items){var u=t.dataTransfer.files,l=Array.from(t.dataTransfer.items).filter(function(t){return"file"===t.kind});if(0===l.length)return;r(l.map(function(t){return function(e){!function(t,e){var n=[];if(t.isFile)t.file(function(n){n.fullPath=t.fullPath,n.isFile=!0,n.isDirectory=!1,e(null,n)},function(t){e(t)});else if(t.isDirectory){var o=t.createReader();!function s(){o.readEntries(function(o){o.length>0?(n=n.concat(Array.from(o)),s()):r(n.map(function(t){return function(e){i(t,e)}}),function(n,o){n?e(n):(o.push({fullPath:t.fullPath,name:t.name,isFile:!1,isDirectory:!0}),e(null,o))})})}()}}(t.webkitGetAsEntry(),e)}}),function(t,r){if(t)throw t;var i=o(r),s=i.filter(function(t){return t.isFile}),a=i.filter(function(t){return t.isDirectory});e.onDrop(s,n,u,a)})}return!1}function f(){t.classList.remove("drag")}};var o=n(4),r=n(5);function i(t,e){var n=[];if(t.isFile){t.file(function(n){n.fullPath=t.fullPath;n.isFile=true;n.isDirectory=false;e(null,n)},function(t){e(t)})}else if(t.isDirectory){var o=t.createReader();s()}function s(){o.readEntries(function(t){if(t.length>0){n=n.concat(Array.from(t));s()}else{a()}})}function a(){r(n.map(function(t){return function(e){i(t,e)}}),function(n,o){if(n){e(n)}else{o.push({fullPath:t.fullPath,name:t.name,isFile:false,isDirectory:true});e(null,o)}})}}},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i=n(2),s=n.n(i),a=n(0),u=n.n(a);let l,c;console.log("TOAST",u.a);const f=2e3,d=new r.a("https://play-spectrum.herokuapp.com/deploy.mp3");function h(t){if(u.a.toast&&"none"!==u.a.toast.style.display)return clearTimeout(c),void(c=setTimeout(()=>h(t),100));u.a.show(t,f)}d.debug(!0).on("stop",()=>h("Stop.")).on("pause",()=>h("Pause.")).on("play",()=>h(`Playing ${l}...`)).on("forward",t=>h(`Forward ${t} seconds.`)).on("rewind",t=>h(`Rewind ${t} seconds.`)).useKeyboard().load().play(),h("Drop an audio file to start playing!"),s()("body",function(t){const e=t[0];console.log("GOT FILE:",e),l=e.name;const n=new window.FileReader;n.addEventListener("load",t=>{const e=t.target.result;d.load(e).play()}),n.addEventListener("error",t=>{console.error("FileReader error"+t),u.a.show("Oops! Something went wrong :(")}),n.readAsArrayBuffer(e)})},function(t,e){t.exports=function(t,e){return(e="number"==typeof e?e:1/0)?function t(n,o){return n.reduce(function(n,r){return Array.isArray(r)&&o<e?n.concat(t(r,o+1)):n.concat(r)},[])}(t,1):Array.isArray(t)?t.map(function(t){return t}):t}},function(t,e,n){(function(e){t.exports=function(t,n){var o,r,i,s=!0;Array.isArray(t)?(o=[],r=t.length):(i=Object.keys(t),o={},r=i.length);function a(t){function r(){n&&n(t,o),n=null}s?e.nextTick(r):r()}function u(t,e,n){o[t]=n,(0==--r||e)&&a(e)}r?i?i.forEach(function(e){t[e](function(t,n){u(e,t,n)})}):t.forEach(function(t,e){t(function(t,n){u(e,t,n)})}):a(null);s=!1}}).call(this,n(6))},function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var t=a(d);c=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,c=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzLXNpbXBsZS10b2FzdC9kaXN0L3NpbXBsZVRvYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cGxheWVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3AvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbGF0dGVuL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ydW4tcGFyYWxsZWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIndpbmRvdyIsImUiLCJjb25maWd1cmFibGUiLCJkZWZhdWx0IiwiZG9jdW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsInRoaXMiLCJ6SW5kZXgiLCJpbm5lckhUTUwiLCJ0b2FzdCIsImNoaWxkcmVuIiwiYXBwZW5kQ2hpbGQiLCJib2R5Iiwic2V0WkluZGV4Iiwic3R5bGUiLCJzaG93Iiwib3duZXJEb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlVGV4dE5vZGUiLCJwbGF5U2hvd0FuaW0iLCJkaXNwbGF5Iiwic2V0VGltZW91dCIsImhpZGUiLCJ0cmFuc2Zvcm0iLCJ3ZWJraXRUcmFuc2Zvcm0iLCJvcGFjaXR5IiwicGxheUhpZGVBbmltIiwiY29uc29sZSIsImxvZyIsInRyYW5zaXRpb24iLCJhZGRPbmNlRXZlbnQiLCJ3ZWJraXRUcmFuc2l0aW9uIiwiYXJndW1lbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhcHBseSIsIltvYmplY3QgT2JqZWN0XSIsInNyYyIsImRlYnVnU3RhdGUiLCJjb250ZXh0IiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0IiwibG9hZGVkIiwiYnVmZmVyIiwic291cmNlIiwic3RhcnRlZEF0Iiwib2Zmc2V0IiwibG9vcFN0YXRlIiwibGlzdGVuZXJzIiwib3duTGlzdGVuZXJzIiwicGxheWluZyIsIm93bkV2ZW50cyIsImluaXRTb3VyY2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJldmVudHMiLCJrZXlzIiwibGVuZ3RoIiwibWFwIiwiZXZlbnROYW1lIiwic3RvcCIsImRpc2Nvbm5lY3QiLCJjbGVhclNvdXJjZSIsImxvYWQiLCJmZXRjaGVyIiwiZGVjb2RlQXVkaW9EYXRhIiwidGhlbiIsImF1ZGlvQnVmZmVyIiwiZmV0Y2giLCJtZXRob2QiLCJyZXNwb25zZSIsImFycmF5QnVmZmVyIiwiY3VycmVudFRpbWUiLCJzdGF0ZSIsImxvb3BFbmQiLCJkdXJhdGlvbiIsImxvb3AiLCJzdGFydCIsInBsYXkiLCJyZXN1bWUiLCJzdXNwZW5kIiwicGF1c2UiLCJzZWNvbmRzIiwiZm9yd2FyZCIsInBsYXlUaW1lIiwiZ2V0UGxheVRpbWUiLCJyZXdpbmQiLCJzZWxlY3RvciIsIiRlbCIsInF1ZXJ5U2VsZWN0b3IiLCJBcnJvd1JpZ2h0IiwiQXJyb3dMZWZ0IiwieiIsIngiLCJ0b2dnbGVMb29wIiwiaW5jbHVkZXMiLCJjYWxsYmFjayIsImlzT3duRXZlbnQiLCJlbGVtIiwiRXJyb3IiLCJvbkRyb3AiLCJ0aW1lb3V0Iiwib25EcmFnRW50ZXIiLCJvbkRyYWdPdmVyIiwib25EcmFnTGVhdmUiLCJyZW1vdmVEcmFnQ2xhc3MiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImRhdGFUcmFuc2ZlciIsIml0ZW1zIiwiQXJyYXkiLCJmcm9tIiwiZmlsZUl0ZW1zIiwiZmlsdGVyIiwiaXRlbSIsImtpbmQiLCJ0ZXh0SXRlbXMiLCJvbkRyb3BUZXh0IiwiY2xhc3NMaXN0IiwiYWRkIiwiY2xlYXJUaW1lb3V0IiwiZHJvcEVmZmVjdCIsInBvcyIsImNsaWVudFgiLCJ5IiwiY2xpZW50WSIsInRleHQiLCJnZXREYXRhIiwiZmlsZUxpc3QiLCJmaWxlcyIsInBhcmFsbGVsIiwiY2IiLCJlbnRyeSIsImVudHJpZXMiLCJpc0ZpbGUiLCJmaWxlIiwiZnVsbFBhdGgiLCJpc0RpcmVjdG9yeSIsImVyciIsInJlYWRlciIsImNyZWF0ZVJlYWRlciIsInJlYWRFbnRyaWVzIiwiZW50cmllc18iLCJjb25jYXQiLCJwcm9jZXNzRW50cnkiLCJyZXN1bHRzIiwicHVzaCIsIndlYmtpdEdldEFzRW50cnkiLCJmbGF0dGVuIiwiZGlyZWN0b3JpZXMiLCJyZW1vdmUiLCJkb25lRW50cmllcyIsIl9fd2VicGFja19leHBvcnRzX18iLCJ1cGxheWVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJ1cGxheWVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCIsImRyYWdfZHJvcF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiZHJhZ19kcm9wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCIsImpzX3NpbXBsZV90b2FzdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwianNfc2ltcGxlX3RvYXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCIsImZpbGVuYW1lIiwiYSIsInRvYXN0RHVyYXRpb24iLCJwbGF5ZXIiLCJzaG93VG9hc3QiLCJtZXNzYWdlIiwiZGVidWciLCJvbiIsInVzZUtleWJvYXJkIiwiRmlsZVJlYWRlciIsImRhdGEiLCJ0YXJnZXQiLCJyZXN1bHQiLCJlcnJvciIsInJlYWRBc0FycmF5QnVmZmVyIiwibGlzdCIsImRlcHRoIiwiSW5maW5pdHkiLCJfZmxhdHRlbiIsInJlZHVjZSIsImFjYyIsImlzQXJyYXkiLCJwcm9jZXNzIiwidGFza3MiLCJwZW5kaW5nIiwiaXNTeW5jIiwiZG9uZSIsImVuZCIsIm5leHRUaWNrIiwiZWFjaCIsImZvckVhY2giLCJ0YXNrIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJhcmdzIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBekIsRUFBQTZCLEVBQUEsU0FBQTFCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQXFCLFdBQ0EsV0FBMkIsT0FBQXJCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFpQixFQUFBQyxHQUFzRCxPQUFBakIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBdUIsRUFBQUMsSUFHdEQvQixFQUFBa0MsRUFBQSxHQUlBbEMsSUFBQW1DLEVBQUEscUJDbEYwTUMsT0FBMUlqQyxFQUFBRCxRQUE2SixTQUFBb0IsR0FBbUIsSUFBQWUsRUFBQSxHQUFTLFNBQUFSLEVBQUFoQixHQUFjLEdBQUF3QixFQUFBeEIsR0FBQSxPQUFBd0IsRUFBQXhCLEdBQUFYLFFBQTRCLElBQUFFLEVBQUFpQyxFQUFBeEIsR0FBQSxDQUFZVCxFQUFBUyxFQUFBUixHQUFBLEVBQUFILFFBQUEsSUFBcUIsT0FBQW9CLEVBQUFULEdBQUFOLEtBQUFILEVBQUFGLFFBQUFFLElBQUFGLFFBQUEyQixHQUFBekIsRUFBQUMsR0FBQSxFQUFBRCxFQUFBRixRQUEyRCxPQUFBMkIsRUFBQXJCLEVBQUFjLEVBQUFPLEVBQUFwQixFQUFBNEIsRUFBQVIsRUFBQW5CLEVBQUEsU0FBQVksRUFBQWUsRUFBQXhCLEdBQXVDZ0IsRUFBQWhCLEVBQUFTLEVBQUFlLElBQUF2QixPQUFBQyxlQUFBTyxFQUFBZSxFQUFBLENBQXFDQyxjQUFBLEVBQUF0QixZQUFBLEVBQUFDLElBQUFKLEtBQXNDZ0IsRUFBQVgsRUFBQSxTQUFBSSxHQUFpQlIsT0FBQUMsZUFBQU8sRUFBQSxjQUFzQ0QsT0FBQSxLQUFXUSxJQUFBLFNBQUFQLEdBQWlCLElBQUFlLEVBQUFmLEtBQUFFLFdBQUEsV0FBaUMsT0FBQUYsRUFBQWlCLFNBQWlCLFdBQVksT0FBQWpCLEdBQVUsT0FBQU8sRUFBQW5CLEVBQUEyQixFQUFBLElBQUFBLE1BQXNCUixFQUFBaEIsRUFBQSxTQUFBUyxFQUFBZSxHQUFtQixPQUFBdkIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBZSxFQUFBZSxJQUFpRFIsRUFBQUssRUFBQSxVQUFBTCxJQUFBTSxFQUFBLEdBQXpnQixDQUFpaUIsVUFBQWIsRUFBQWUsRUFBQVIsR0FBa0IsYUFBYWYsT0FBQUMsZUFBQXNCLEVBQUEsY0FBc0NoQixPQUFBLElBQVcsSUFBQVIsRUFBQSxDQUFPYSxPQUFBLFdBQWtCLElBQUFKLEVBQUFrQixTQUFBSCxFQUFBZixFQUFBbUIseUJBQUFaLEVBQUFQLEVBQUFvQixjQUFBLE9BQUE3QixFQUFBOEIsS0FBQUMsUUFBQSxJQUF3RmYsRUFBQWdCLFVBQUEsNElBQTRJaEMsRUFBQSx1b0JBQStqQjhCLEtBQUFHLE1BQUFqQixFQUFBa0IsU0FBQSxHQUFBVixFQUFBVyxZQUFBTCxLQUFBRyxPQUFBeEIsRUFBQTJCLEtBQUFELFlBQUFYLElBQStKYSxVQUFBLFNBQUE1QixHQUF1QnFCLEtBQUFDLE9BQUF0QixFQUFBcUIsS0FBQUcsUUFBQUgsS0FBQUcsTUFBQUssTUFBQVAsT0FBQXRCLElBQXNEOEIsS0FBQSxTQUFBOUIsRUFBQWUsR0FBb0IsSUFBQVIsRUFBQWMsS0FBV0EsS0FBQUcsT0FBQUgsS0FBQWpCLFNBQTBCLElBQUFiLEVBQUE4QixLQUFBRyxNQUFBMUMsRUFBQVMsRUFBQXdDLGNBQUFsQixFQUFBL0IsRUFBQWtELGVBQUEsZ0JBQXNFbkIsRUFBQVUsVUFBQSxHQUFBVixFQUFBYSxZQUFBNUMsRUFBQW1ELGVBQUFqQyxJQUFBcUIsS0FBQWEsYUFBQXJCLEdBQUF0QixFQUFBc0MsTUFBQU0sUUFBQSxRQUFBQyxXQUFBLFdBQXFILE9BQUE3QixFQUFBOEIsUUFBZ0J0QixHQUFBLE1BQVNtQixhQUFBLFNBQUFsQyxHQUEwQkEsRUFBQTZCLE1BQUFTLFVBQUEsb0JBQUF0QyxFQUFBNkIsTUFBQVUsZ0JBQUEsb0JBQUF2QyxFQUFBNkIsTUFBQVcsUUFBQSxFQUFBSixXQUFBLFdBQTBIcEMsRUFBQTZCLE1BQUFTLFVBQUEsa0JBQUF0QyxFQUFBNkIsTUFBQVUsZ0JBQUEsa0JBQUF2QyxFQUFBNkIsTUFBQVcsUUFBQSxLQUFrR0gsS0FBQSxXQUFpQixJQUFBckMsRUFBQXFCLEtBQUFOLEVBQUFNLEtBQUFHLE1BQUFPLGNBQUFDLGVBQUEsZ0JBQXFFWCxLQUFBb0IsYUFBQTFCLEdBQXFCLElBQUFSLEVBQUEsV0FBaUJtQyxRQUFBQyxJQUFBLGlCQUFBM0MsRUFBQXdCLE1BQUFLLE1BQUFNLFFBQUEsUUFBMkRwQixFQUFBYyxNQUFBZSxXQUFBdkIsS0FBQXdCLGFBQUE5QixFQUFBLGdCQUFBUixHQUFBUSxFQUFBYyxNQUFBaUIsaUJBQUF6QixLQUFBd0IsYUFBQTlCLEVBQUEsc0JBQUFSLFFBQW9Jc0MsYUFBQSxTQUFBN0MsRUFBQWUsRUFBQVIsR0FBOEIsSUFBQWhCLEVBQUE4QixLQUFBdkMsRUFBQWlFLFVBQXVCL0MsRUFBQWdELGlCQUFBakMsRUFBQSxTQUFBRixJQUFrQ2IsRUFBQWlELG9CQUFBbEMsRUFBQUYsR0FBQU4sRUFBQTJDLE1BQUEzRCxFQUFBVCxNQUEwQzJELGFBQUEsU0FBQXpDLEdBQTBCQSxFQUFBNkIsTUFBQVMsVUFBQSxtQkFBQXRDLEVBQUE2QixNQUFBVSxnQkFBQSxtQkFBQXZDLEVBQUE2QixNQUFBVyxRQUFBLElBQW9HekIsRUFBQUUsUUFBQTFCLG9CQ0FuN0ZWLEVBQUFELFFBQUEsTUFDQXVFLFlBQUFDLEVBQUFDLEdBQUEsR0FDQWhDLEtBQUErQixNQUNBL0IsS0FBQWlDLFFBQUEsSUFBQXhDLE9BQUF5QyxjQUFBekMsT0FBQTBDLG9CQUNBbkMsS0FBQW9DLFFBQUEsRUFDQXBDLEtBQUFxQyxPQUFBLEtBQ0FyQyxLQUFBc0MsT0FBQSxLQUNBdEMsS0FBQWdDLGFBQ0FoQyxLQUFBdUMsVUFBQSxFQUNBdkMsS0FBQXdDLE9BQUEsRUFDQXhDLEtBQUF5QyxXQUFBLEVBQ0F6QyxLQUFBMEMsVUFBQSxHQUNBMUMsS0FBQTJDLGFBQUEsR0FDQTNDLEtBQUE0QyxTQUFBLEVBQ0E1QyxLQUFBNkMsVUFBQSwyREFFQTdDLEtBQUE4QyxhQUdBaEIsYUFDQTlCLEtBQUFzQyxPQUFBdEMsS0FBQWlDLFFBQUFjLHFCQUNBL0MsS0FBQXNDLE9BQUFVLFFBQUFoRCxLQUFBaUMsUUFBQWdCLGFBR0EsTUFBQUMsRUFBQS9FLE9BQUFnRixLQUFBbkQsS0FBQTBDLFdBQ0FRLEVBQUFFLFFBQ0FGLEVBQUFHLElBQUFDLElBQ0F0RCxLQUFBc0IscUJBQWdDZ0MsS0FDaEN0RCxLQUFBc0MsT0FBQVgsaUJBQUEyQixFQUFBdEQsS0FBQTBDLFVBQUFZLE1BSUF4QixjQUNBOUIsS0FBQXNDLFNBQ0F0QyxLQUFBNEMsU0FBQTVDLEtBQUFzQyxPQUFBaUIsT0FDQXZELEtBQUFzQyxPQUFBa0IsYUFDQXhELEtBQUE4QyxjQUdBaEIsT0FDQTlCLEtBQUE0QyxVQUNBNUMsS0FBQXlELGNBQ0F6RCxLQUFBdUMsVUFBQSxFQUNBdkMsS0FBQXdDLE9BQUEsRUFDQXhDLEtBQUE0QyxTQUFBLEVBQ0E1QyxLQUFBc0IsSUFBQSxZQUNBLG1CQUFBdEIsS0FBQTJDLGFBQUFZLE1BQ0F2RCxLQUFBMkMsYUFBQVksUUFJQXpCLEtBQUFDLEdBV0EsT0FWQUEsS0FBQS9CLEtBQUErQixJQUNBL0IsS0FBQXNCLElBQUEsVUFBQVMsR0FDQSxtQkFBQS9CLEtBQUEyQyxhQUFBZSxNQUNBMUQsS0FBQTJDLGFBQUFlLEtBQUEzQixHQUVBL0IsS0FBQW9DLFNBQ0FwQyxLQUFBeUQsY0FDQXpELEtBQUFvQyxRQUFBLEdBR0EsaUJBQUFMLEdBQ0EvQixLQUFBMkQsUUFBQTNELEtBQUFpQyxRQUFBMkIsZ0JBQUE3QixHQUFBOEIsS0FBQUMsSUFDQTlELEtBQUFvQyxRQUFBLEVBQ0FwQyxLQUFBcUMsT0FBQXlCLEVBQ0EsbUJBQUE5RCxLQUFBMkMsYUFBQVAsUUFDQXBDLEtBQUEyQyxhQUFBUCxXQUdBcEMsT0FHQUEsS0FBQTJELFFBQUFsRSxPQUNBc0UsTUFBQWhDLEVBQUEsQ0FBbUJpQyxPQUFBLE1BQUFwRixLQUFBLFlBQ25CaUYsS0FBQUksS0FBQUMsZUFDQUwsS0FBQUssR0FBQWxFLEtBQUFpQyxRQUFBMkIsZ0JBQUFNLElBQ0FMLEtBQUFDLElBQ0E5RCxLQUFBb0MsUUFBQSxFQUNBcEMsS0FBQXFDLE9BQUF5QixFQUNBLG1CQUFBOUQsS0FBQTJDLGFBQUFQLFFBQ0FwQyxLQUFBMkMsYUFBQVAsV0FHQXBDLE1BR0E4QixjQUNBLE9BQUE5QixLQUFBaUMsUUFBQWtDLFlBQUFuRSxLQUFBdUMsVUFBQXZDLEtBQUF3QyxPQUdBVixLQUFBVSxHQUNBLGlCQUFBeEMsS0FBQWlDLFFBQUFtQyxNQUtBLE9BQUFwRSxLQUFBb0MsWUFNQXBDLEtBQUFzQyxPQUFBRCxTQUVBckMsS0FBQXNDLE9BQUFELE9BQUFyQyxLQUFBcUMsT0FDQXJDLEtBQUFzQyxPQUFBK0IsUUFBQXJFLEtBQUFxQyxPQUFBaUMsU0FDQXRFLEtBQUFzQyxPQUFBaUMsS0FBQXZFLEtBQUF5QyxVQUNBekMsS0FBQXVDLFVBQUF2QyxLQUFBaUMsUUFBQWtDLFlBQ0FuRSxLQUFBc0MsT0FBQWtDLE1BQUEsRUFBQWhDLEdBQ0F4QyxLQUFBNEMsU0FBQSxFQUNBNUMsS0FBQXNDLE9BQUFYLGlCQUFBLFlBQUEzQixLQUFBdUQsUUFDQXZELEtBQUFzQixJQUFBLGNBQ0EsbUJBQUF0QixLQUFBMkMsYUFBQThCLE1BQ0F6RSxLQUFBMkMsYUFBQThCLFVBaEJBekUsS0FBQXNCLElBQUEsc0NBQ0F0QixLQUFBMkQsUUFBQUUsS0FBQSxJQUFBN0QsS0FBQXlFLFNBTkF6RSxLQUFBaUMsUUFBQXlDLFNBeUJBNUMsUUFDQTlCLEtBQUFpQyxRQUFBMEMsVUFDQTNFLEtBQUE0QyxTQUFBLEVBQ0E1QyxLQUFBc0IsSUFBQSxXQUNBLG1CQUFBdEIsS0FBQTJDLGFBQUFpQyxPQUNBNUUsS0FBQTJDLGFBQUFpQyxRQUlBOUMsS0FBQVcsR0FJQSxPQUhBekMsS0FBQXlDLFlBQ0F6QyxLQUFBc0IsSUFBQSxRQUFBbUIsRUFBQSxZQUNBekMsS0FBQXNDLE9BQUFpQyxLQUFBOUIsRUFDQXpDLEtBR0E4QixhQUlBLE9BSEE5QixLQUFBeUMsV0FBQXpDLEtBQUF5QyxVQUNBekMsS0FBQXNCLElBQUEsZUFBQXRCLEtBQUF5QyxVQUFBLFlBQ0F6QyxLQUFBc0MsT0FBQWlDLEtBQUF2RSxLQUFBeUMsVUFDQXpDLEtBR0E4QixRQUFBK0MsRUFBQSxHQUNBN0UsS0FBQXNCLGtCQUEyQnVELGFBQzNCLG1CQUFBN0UsS0FBQTJDLGFBQUFtQyxTQUNBOUUsS0FBQTJDLGFBQUFtQyxRQUFBRCxHQUVBLE1BQUFFLEVBQUEvRSxLQUFBZ0YsY0FDQWhGLEtBQUF3QyxPQUFBdUMsRUFBQUYsRUFDQTdFLEtBQUF3QyxPQUFBeEMsS0FBQXFDLE9BQUFpQyxXQUFBdEUsS0FBQXdDLE9BQUF4QyxLQUFBcUMsT0FBQWlDLFNBQUFPLEdBQ0E3RSxLQUFBc0IsSUFBQSxTQUFBdEIsS0FBQXdDLFFBQ0F4QyxLQUFBeUQsY0FDQXpELEtBQUF5RSxLQUFBekUsS0FBQXdDLFFBR0FWLE9BQUErQyxFQUFBLEdBQ0E3RSxLQUFBc0IsaUJBQTBCdUQsYUFDMUIsbUJBQUE3RSxLQUFBMkMsYUFBQXNDLFFBQ0FqRixLQUFBMkMsYUFBQXNDLE9BQUFKLEdBRUEsTUFBQUUsRUFBQS9FLEtBQUFnRixjQUNBaEYsS0FBQXdDLE9BQUF1QyxFQUFBRixFQUNBN0UsS0FBQXdDLE9BQUEsSUFBQXhDLEtBQUF3QyxPQUFBLEdBQ0F4QyxLQUFBc0IsSUFBQSxTQUFBdEIsS0FBQXdDLFFBQ0F4QyxLQUFBeUQsY0FDQXpELEtBQUF5RSxLQUFBekUsS0FBQXdDLFFBR0FWLFlBQUFvRCxHQUNBbEYsS0FBQXNCLElBQUEsbUJBQ0EsSUFBQTZELEVBQUF0RixTQUFBUyxLQWVBLE9BZEE0RSxJQUFBQyxFQUFBdEYsU0FBQXVGLGNBQUFGLElBQ0FDLEVBQUF4RCxpQkFBQSxZQUFzQzNDLFVBQ3RDLE1BU0FnRixFQVRBLENBQ0FxQixXQUFBLElBQUFyRixLQUFBOEUsVUFDQVEsVUFBQSxJQUFBdEYsS0FBQWlGLFNBQ0FNLEVBQUEsSUFBQXZGLEtBQUF1RCxPQUNBaUMsRUFBQSxJQUFBeEYsS0FBQXlFLE9BQ0EzRyxFQUFBLElBQUFrQyxLQUFBNEUsUUFDQWxILEVBQUEsSUFBQXNDLEtBQUF5RixjQUdBekcsR0FDQWdGLFNBRUFoRSxLQUdBOEIsV0FBQXdCLEdBQ0EsT0FBQXRELEtBQUE2QyxVQUFBNkMsU0FBQXBDLEdBR0F4QixHQUFBd0IsRUFBQXFDLEdBQ0EsT0FBQTNGLEtBQUE0RixXQUFBdEMsSUFDQXRELEtBQUEyQyxhQUFBVyxHQUFBcUMsRUFDQTNGLE9BR0FBLEtBQUFzQyxPQUFBWCxpQkFBQTJCLEVBQUFxQyxHQUNBM0YsS0FBQTBDLFVBQUFZLEdBQUFxQyxFQUNBM0YsTUFHQThCLE1BQUFFLEdBRUEsT0FEQWhDLEtBQUFnQyxhQUNBaEMsS0FHQThCLE1BQ0E5QixLQUFBZ0MsWUFDQVgsUUFBQUMsSUFBQSxhQUFBSSw4QkNqTkFsRSxFQUFBRCxRQUtBLFNBQUFzSSxFQUFBbkQsR0FDQSxvQkFBQW1ELEVBQUEsQ0FDQSxJQUFBWCxFQUFBVyxFQUVBLEtBREFBLEVBQUFwRyxPQUFBSSxTQUFBdUYsY0FBQVMsSUFFQSxVQUFBQyxNQUFBLElBQUFaLEVBQUEsc0NBSUEsSUFBQVcsRUFDQSxVQUFBQyxNQUFBLElBQUFELEVBQUEsaUNBR0EsbUJBQUFuRCxJQUNBQSxFQUFBLENBQWlCcUQsT0FBQXJELElBR2pCLElBQUFzRCxFQVFBLE9BTkFILEVBQUFsRSxpQkFBQSxZQUFBc0UsR0FBQSxHQUNBSixFQUFBbEUsaUJBQUEsV0FBQXVFLEdBQUEsR0FDQUwsRUFBQWxFLGlCQUFBLFlBQUF3RSxHQUFBLEdBQ0FOLEVBQUFsRSxpQkFBQSxPQUFBb0UsR0FBQSxHQUdBLFdBQ0FLLElBQ0FQLEVBQUFqRSxvQkFBQSxZQUFBcUUsR0FBQSxHQUNBSixFQUFBakUsb0JBQUEsV0FBQXNFLEdBQUEsR0FDQUwsRUFBQWpFLG9CQUFBLFlBQUF1RSxHQUFBLEdBQ0FOLEVBQUFqRSxvQkFBQSxPQUFBbUUsR0FBQSxJQUdBLFNBQUFFLEVBQUF2RyxHQVFBLE9BUEFnRCxFQUFBdUQsYUFDQXZELEVBQUF1RCxZQUFBdkcsR0FJQUEsRUFBQTJHLGtCQUNBM0csRUFBQTRHLGtCQUNBLEVBR0EsU0FBQUosRUFBQXhHLEdBUUEsR0FQQUEsRUFBQTJHLGtCQUNBM0csRUFBQTRHLGlCQUVBNUQsRUFBQXdELFlBQ0F4RCxFQUFBd0QsV0FBQXhHLEdBR0FBLEVBQUE2RyxhQUFBQyxNQUFBLENBR0EsSUFBQUEsRUFBQUMsTUFBQUMsS0FBQWhILEVBQUE2RyxhQUFBQyxPQUNBRyxFQUFBSCxFQUFBSSxPQUFBLFNBQUFDLEdBQ0EsZUFBQUEsRUFBQUMsT0FFQUMsRUFBQVAsRUFBQUksT0FBQSxTQUFBQyxHQUNBLGlCQUFBQSxFQUFBQyxPQUdBLE9BQUFILEVBQUF2RCxTQUFBVixFQUFBc0UsV0FBQSxPQUNBLE9BQUFELEVBQUEzRCxTQUFBVixFQUFBcUQsT0FBQSxPQUNBLE9BQUFZLEVBQUF2RCxRQUFBLElBQUEyRCxFQUFBM0QsT0FBQSxPQVFBLE9BTEF5QyxFQUFBb0IsVUFBQUMsSUFBQSxRQUNBQyxhQUFBbkIsR0FFQXRHLEVBQUE2RyxhQUFBYSxXQUFBLFFBRUEsRUFHQSxTQUFBakIsRUFBQXpHLEdBV0EsT0FWQUEsRUFBQTJHLGtCQUNBM0csRUFBQTRHLGlCQUVBNUQsRUFBQXlELGFBQ0F6RCxFQUFBeUQsWUFBQXpHLEdBR0F5SCxhQUFBbkIsR0FDQUEsRUFBQWpGLFdBQUFxRixFQUFBLEtBRUEsRUFHQSxTQUFBTCxFQUFBckcsR0FDQUEsRUFBQTJHLGtCQUNBM0csRUFBQTRHLGlCQUVBNUQsRUFBQXlELGFBQ0F6RCxFQUFBeUQsWUFBQXpHLEdBR0F5SCxhQUFBbkIsR0FDQUksSUFFQSxJQUFBaUIsRUFBQSxDQUNBN0IsRUFBQTlGLEVBQUE0SCxRQUNBQyxFQUFBN0gsRUFBQThILFNBSUFDLEVBQUEvSCxFQUFBNkcsYUFBQW1CLFFBQUEsUUFTQSxHQVJBRCxHQUFBL0UsRUFBQXNFLFlBQ0F0RSxFQUFBc0UsV0FBQVMsRUFBQUosR0FPQTNFLEVBQUFxRCxRQUFBckcsRUFBQTZHLGFBQUFDLE1BQUEsQ0FDQSxJQUFBbUIsRUFBQWpJLEVBQUE2RyxhQUFBcUIsTUFHQXBCLEVBQUFDLE1BQUFDLEtBQUFoSCxFQUFBNkcsYUFBQUMsT0FBQUksT0FBQSxTQUFBQyxHQUNBLGVBQUFBLEVBQUFDLE9BR0EsT0FBQU4sRUFBQXBELE9BQUEsT0FFQXlFLEVBQ0FyQixFQUFBbkQsSUFBQSxTQUFBd0QsR0FDQSxnQkFBQWlCLElBZ0NBLFNBQUFDLEVBQUFELEdBQ0EsSUFBQUUsRUFBQSxHQUVBLEdBQUFELEVBQUFFLE9BQ0FGLEVBQUFHLEtBQ0EsU0FBQUEsR0FDQUEsRUFBQUMsU0FBQUosRUFBQUksU0FDQUQsRUFBQUQsUUFBQSxFQUNBQyxFQUFBRSxhQUFBLEVBQ0FOLEVBQUEsS0FBQUksSUFFQSxTQUFBRyxHQUNBUCxFQUFBTyxVQUdHLEdBQUFOLEVBQUFLLFlBQUEsQ0FDSCxJQUFBRSxFQUFBUCxFQUFBUSxnQkFJQSxTQUFBQyxJQUNBRixFQUFBRSxZQUFBLFNBQUFDLEdBQ0FBLEVBQUFyRixPQUFBLEdBQ0E0RSxJQUFBVSxPQUFBakMsTUFBQUMsS0FBQStCLElBQ0FELEtBUUFYLEVBQ0FHLEVBQUEzRSxJQUFBLFNBQUEwRSxHQUNBLGdCQUFBRCxHQUNBYSxFQUFBWixFQUFBRCxNQUdBLFNBQUFPLEVBQUFPLEdBQ0FQLEVBQ0FQLEVBQUFPLElBRUFPLEVBQUFDLEtBQUEsQ0FDQVYsU0FBQUosRUFBQUksU0FDQW5LLEtBQUErSixFQUFBL0osS0FDQWlLLFFBQUEsRUFDQUcsYUFBQSxJQUVBTixFQUFBLEtBQUFjLFFBL0JBSixJQWhEQUcsQ0FBQTlCLEVBQUFpQyxtQkFBQWhCLE1BR0EsU0FBQU8sRUFBQU8sR0FHQSxHQUFBUCxFQUFBLE1BQUFBLEVBRUEsSUFBQUwsRUFBQWUsRUFBQUgsR0FFQWhCLEVBQUFJLEVBQUFwQixPQUFBLFNBQUFDLEdBQ0EsT0FBQUEsRUFBQW9CLFNBR0FlLEVBQUFoQixFQUFBcEIsT0FBQSxTQUFBQyxHQUNBLE9BQUFBLEVBQUF1QixjQUdBMUYsRUFBQXFELE9BQUE2QixFQUFBUCxFQUFBTSxFQUFBcUIsS0FLQSxTQUdBLFNBQUE1QyxJQUNBUCxFQUFBb0IsVUFBQWdDLE9BQUEsVUEvSkEsSUFBQUYsRUFBYzFMLEVBQVEsR0FDdEJ3SyxFQUFleEssRUFBUSxHQWtLdkIsU0FBQXNMLEVBQUFaLEVBQUFELEdBQ0EsSUFBQUUsRUFBQSxHQUVBLEdBQUFELEVBQUFFLE9BQUEsQ0FDQUYsRUFBQUcsS0FDQSxTQUFBQSxHQUNBQSxFQUFBQyxTQUFBSixFQUFBSSxTQUNBRCxFQUFBRCxPQUFBLEtBQ0FDLEVBQUFFLFlBQUEsTUFDQU4sRUFBQSxLQUFBSSxJQUVBLFNBQUFHLEdBQ0FQLEVBQUFPLFVBR0csR0FBQU4sRUFBQUssWUFBQSxDQUNILElBQUFFLEVBQUFQLEVBQUFRLGVBQ0FDLElBR0EsU0FBQUEsSUFDQUYsRUFBQUUsWUFBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFyRixPQUFBLEdBQ0E0RSxJQUFBVSxPQUFBakMsTUFBQUMsS0FBQStCLElBQ0FELFFBQ08sQ0FDUFUsT0FLQSxTQUFBQSxJQUNBckIsRUFDQUcsRUFBQTNFLElBQUEsU0FBQTBFLEdBQ0EsZ0JBQUFELEdBQ0FhLEVBQUFaLEVBQUFELE1BR0EsU0FBQU8sRUFBQU8sR0FDQSxHQUFBUCxFQUFBLENBQ0FQLEVBQUFPLE9BQ1MsQ0FDVE8sRUFBQUMsS0FBQSxDQUNBVixTQUFBSixFQUFBSSxTQUNBbkssS0FBQStKLEVBQUEvSixLQUNBaUssT0FBQSxNQUNBRyxZQUFBLE9BRUFOLEVBQUEsS0FBQWMsc0NDck5BdkwsRUFBQWtCLEVBQUE0SyxHQUFBLElBQUFDLEVBQUEvTCxFQUFBLEdBQUFnTSxFQUFBaE0sRUFBQTZCLEVBQUFrSyxHQUFBRSxFQUFBak0sRUFBQSxHQUFBa00sRUFBQWxNLEVBQUE2QixFQUFBb0ssR0FBQUUsRUFBQW5NLEVBQUEsR0FBQW9NLEVBQUFwTSxFQUFBNkIsRUFBQXNLLEdBS0EsSUFBQUUsRUFDQTFELEVBRkEzRSxRQUFBQyxJQUFBLFFBQXFCbUksRUFBQUUsR0FHckIsTUFBQUMsRUFBQSxJQUNBQyxFQUFBLElBQW1CUixFQUFBTSxFQUFNLGtEQTZCekIsU0FBQUcsRUFBQUMsR0FDQSxHQUFNTixFQUFBRSxFQUFLeEosT0FBZSxTQUFMc0osRUFBQUUsRUFBS3hKLE1BQUFLLE1BQUFNLFFBRzFCLE9BRkFxRyxhQUFBbkIsUUFDQUEsRUFBQWpGLFdBQUEsSUFBQStJLEVBQUFDLEdBQUEsTUFJRU4sRUFBQUUsRUFBS2xKLEtBQUFzSixFQUFBSCxHQW5DUEMsRUFDQUcsT0FBQSxHQUNBQyxHQUFBLFdBQUFILEVBQUEsVUFDQUcsR0FBQSxZQUFBSCxFQUFBLFdBQ0FHLEdBQUEsV0FBQUgsYUFBeUNKLFNBQ3pDTyxHQUFBLFVBQUFwRixHQUFBaUYsYUFBaURqRixlQUNqRG9GLEdBQUEsU0FBQXBGLEdBQUFpRixZQUErQ2pGLGVBQy9DcUYsY0FDQXhHLE9BQ0FlLE9BQ0FxRixFQUFBLHdDQUVBUCxJQUFRLGdCQUFBM0IsR0FDUixNQUFBTSxFQUFBTixFQUFBLEdBQ0F2RyxRQUFBQyxJQUFBLFlBQUE0RyxHQUNBd0IsRUFBQXhCLEVBQUFsSyxLQUNBLE1BQUFzSyxFQUFBLElBQUE3SSxPQUFBMEssV0FDQTdCLEVBQUEzRyxpQkFBQSxPQUFBakMsSUFDQSxNQUFBMEssRUFBQTFLLEVBQUEySyxPQUFBQyxPQUNBVCxFQUFBbkcsS0FBQTBHLEdBQUEzRixTQUVBNkQsRUFBQTNHLGlCQUFBLFFBQUEwRyxJQUNBaEgsUUFBQWtKLE1BQUEsbUJBQUFsQyxHQUNJb0IsRUFBQUUsRUFBS2xKLEtBQUEsbUNBRVQ2SCxFQUFBa0Msa0JBQUF0QyxvQkNsQ0ExSyxFQUFBRCxRQUFBLFNBQUFrTixFQUFBQyxHQUdBLE9BRkFBLEVBQUEsaUJBQUFBLElBQUFDLEtBV0EsU0FBQUMsRUFBQUgsRUFBQTFNLEdBQ0EsT0FBQTBNLEVBQUFJLE9BQUEsU0FBQUMsRUFBQWpFLEdBQ0EsT0FBQUosTUFBQXNFLFFBQUFsRSxJQUFBOUksRUFBQTJNLEVBQ0FJLEVBQUFwQyxPQUFBa0MsRUFBQS9ELEVBQUE5SSxFQUFBLElBR0ErTSxFQUFBcEMsT0FBQTdCLElBRUssSUFWTCtELENBQUFILEVBQUEsR0FOQWhFLE1BQUFzRSxRQUFBTixHQUNBQSxFQUFBcEgsSUFBQSxTQUFBNUYsR0FBbUMsT0FBQUEsSUFFbkNnTixxQkNQQSxTQUFBTyxHQUFBeE4sRUFBQUQsUUFFQSxTQUFBME4sRUFBQW5ELEdBQ0EsSUFBQWMsRUFBQXNDLEVBQUEvSCxFQUNBZ0ksR0FBQSxFQUVBMUUsTUFBQXNFLFFBQUFFLElBQ0FyQyxFQUFBLEdBQ0FzQyxFQUFBRCxFQUFBN0gsU0FFQUQsRUFBQWhGLE9BQUFnRixLQUFBOEgsR0FDQXJDLEVBQUEsR0FDQXNDLEVBQUEvSCxFQUFBQyxRQUdBLFNBQUFnSSxFQUFBL0MsR0FDQSxTQUFBZ0QsSUFDQXZELEtBQUFPLEVBQUFPLEdBQ0FkLEVBQUEsS0FFQXFELEVBQUFILEVBQUFNLFNBQUFELEdBQ0FBLElBR0EsU0FBQUUsRUFBQTlOLEVBQUE0SyxFQUFBaUMsR0FDQTFCLEVBQUFuTCxHQUFBNk0sR0FDQSxLQUFBWSxHQUFBN0MsSUFDQStDLEVBQUEvQyxHQUlBNkMsRUFHRy9ILEVBRUhBLEVBQUFxSSxRQUFBLFNBQUF4TSxHQUNBaU0sRUFBQWpNLEdBQUEsU0FBQXFKLEVBQUFpQyxHQUF5Q2lCLEVBQUF2TSxFQUFBcUosRUFBQWlDLE9BSXpDVyxFQUFBTyxRQUFBLFNBQUFDLEVBQUFoTyxHQUNBZ08sRUFBQSxTQUFBcEQsRUFBQWlDLEdBQW1DaUIsRUFBQTlOLEVBQUE0SyxFQUFBaUMsT0FUbkNjLEVBQUEsTUFhQUQsR0FBQSxvQ0M3Q0EsSUFPQU8sRUFDQUMsRUFSQVgsRUFBQXhOLEVBQUFELFFBQUEsR0FVQSxTQUFBcU8sSUFDQSxVQUFBOUYsTUFBQSxtQ0FFQSxTQUFBK0YsSUFDQSxVQUFBL0YsTUFBQSxxQ0FzQkEsU0FBQWdHLEVBQUFDLEdBQ0EsR0FBQUwsSUFBQTNLLFdBRUEsT0FBQUEsV0FBQWdMLEVBQUEsR0FHQSxJQUFBTCxJQUFBRSxJQUFBRixJQUFBM0ssV0FFQSxPQURBMkssRUFBQTNLLFdBQ0FBLFdBQUFnTCxFQUFBLEdBRUEsSUFFQSxPQUFBTCxFQUFBSyxFQUFBLEdBQ0ssTUFBQXJNLEdBQ0wsSUFFQSxPQUFBZ00sRUFBQTlOLEtBQUEsS0FBQW1PLEVBQUEsR0FDUyxNQUFBck0sR0FFVCxPQUFBZ00sRUFBQTlOLEtBQUFvQyxLQUFBK0wsRUFBQSxNQXZDQSxXQUNBLElBRUFMLEVBREEsbUJBQUEzSyxXQUNBQSxXQUVBNkssRUFFSyxNQUFBbE0sR0FDTGdNLEVBQUFFLEVBRUEsSUFFQUQsRUFEQSxtQkFBQXhFLGFBQ0FBLGFBRUEwRSxFQUVLLE1BQUFuTSxHQUNMaU0sRUFBQUUsR0FqQkEsR0F3RUEsSUFFQUcsRUFGQUMsRUFBQSxHQUNBQyxHQUFBLEVBRUFDLEdBQUEsRUFFQSxTQUFBQyxJQUNBRixHQUFBRixJQUdBRSxHQUFBLEVBQ0FGLEVBQUE1SSxPQUNBNkksRUFBQUQsRUFBQXRELE9BQUF1RCxHQUVBRSxHQUFBLEVBRUFGLEVBQUE3SSxRQUNBaUosS0FJQSxTQUFBQSxJQUNBLElBQUFILEVBQUEsQ0FHQSxJQUFBbEcsRUFBQThGLEVBQUFNLEdBQ0FGLEdBQUEsRUFHQSxJQURBLElBQUFJLEVBQUFMLEVBQUE3SSxPQUNBa0osR0FBQSxDQUdBLElBRkFOLEVBQUFDLEVBQ0FBLEVBQUEsS0FDQUUsRUFBQUcsR0FDQU4sR0FDQUEsRUFBQUcsR0FBQUksTUFHQUosR0FBQSxFQUNBRyxFQUFBTCxFQUFBN0ksT0FFQTRJLEVBQUEsS0FDQUUsR0FBQSxFQW5FQSxTQUFBTSxHQUNBLEdBQUFiLElBQUF4RSxhQUVBLE9BQUFBLGFBQUFxRixHQUdBLElBQUFiLElBQUFFLElBQUFGLElBQUF4RSxhQUVBLE9BREF3RSxFQUFBeEUsYUFDQUEsYUFBQXFGLEdBRUEsSUFFQWIsRUFBQWEsR0FDSyxNQUFBOU0sR0FDTCxJQUVBLE9BQUFpTSxFQUFBL04sS0FBQSxLQUFBNE8sR0FDUyxNQUFBOU0sR0FHVCxPQUFBaU0sRUFBQS9OLEtBQUFvQyxLQUFBd00sS0FnREFDLENBQUF6RyxJQWlCQSxTQUFBMEcsRUFBQVgsRUFBQVksR0FDQTNNLEtBQUErTCxNQUNBL0wsS0FBQTJNLFFBWUEsU0FBQUMsS0E1QkE1QixFQUFBTSxTQUFBLFNBQUFTLEdBQ0EsSUFBQWMsRUFBQSxJQUFBcEcsTUFBQS9FLFVBQUEwQixPQUFBLEdBQ0EsR0FBQTFCLFVBQUEwQixPQUFBLEVBQ0EsUUFBQTNGLEVBQUEsRUFBdUJBLEVBQUFpRSxVQUFBMEIsT0FBc0IzRixJQUM3Q29QLEVBQUFwUCxFQUFBLEdBQUFpRSxVQUFBakUsR0FHQXdPLEVBQUFwRCxLQUFBLElBQUE2RCxFQUFBWCxFQUFBYyxJQUNBLElBQUFaLEVBQUE3SSxRQUFBOEksR0FDQUosRUFBQU8sSUFTQUssRUFBQXJOLFVBQUFrTixJQUFBLFdBQ0F2TSxLQUFBK0wsSUFBQWxLLE1BQUEsS0FBQTdCLEtBQUEyTSxRQUVBM0IsRUFBQThCLE1BQUEsVUFDQTlCLEVBQUErQixTQUFBLEVBQ0EvQixFQUFBZ0MsSUFBQSxHQUNBaEMsRUFBQWlDLEtBQUEsR0FDQWpDLEVBQUFrQyxRQUFBLEdBQ0FsQyxFQUFBbUMsU0FBQSxHQUlBbkMsRUFBQWYsR0FBQTJDLEVBQ0E1QixFQUFBb0MsWUFBQVIsRUFDQTVCLEVBQUFxQyxLQUFBVCxFQUNBNUIsRUFBQXNDLElBQUFWLEVBQ0E1QixFQUFBdUMsZUFBQVgsRUFDQTVCLEVBQUF3QyxtQkFBQVosRUFDQTVCLEVBQUF5QyxLQUFBYixFQUNBNUIsRUFBQTBDLGdCQUFBZCxFQUNBNUIsRUFBQTJDLG9CQUFBZixFQUVBNUIsRUFBQXRJLFVBQUEsU0FBQTFFLEdBQXFDLFVBRXJDZ04sRUFBQTRDLFFBQUEsU0FBQTVQLEdBQ0EsVUFBQThILE1BQUEscUNBR0FrRixFQUFBNkMsSUFBQSxXQUEyQixXQUMzQjdDLEVBQUE4QyxNQUFBLFNBQUFDLEdBQ0EsVUFBQWpJLE1BQUEsbUNBRUFrRixFQUFBZ0QsTUFBQSxXQUE0QiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLnNpbXBsZVRvYXN0PWUoKTp0LnNpbXBsZVRvYXN0PWUoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4obyl7aWYoZVtvXSlyZXR1cm4gZVtvXS5leHBvcnRzO3ZhciBpPWVbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsbyl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpvfSl9LG4ucj1mdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBuLmQoZSxcImFcIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD1cIi4vZGlzdC9cIixuKG4ucz0wKX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz17Y3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQsZT10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxuPXQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxvPXRoaXMuekluZGV4fHwxZTM7bi5pbm5lckhUTUw9J1xcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2FzdC1jb250YWluZXJcIlxcbiAgICAgICAgICAgICAgICBzdHlsZT1cInBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyB6LWluZGV4OiAnK28rJzsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOyBkaXNwbGF5OiBub25lXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2FzdC1jb250ZW50LWNvbnRhaW5lclwiXFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiA1MCU7IGxlZnQ6IDUwJTsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XCJcXG4gICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInRvYXN0Q29udGVudFwiIGNsYXNzPVwidG9hc3QtY29udGVudFwiIHN0eWxlPVwicGFkZGluZzogNHB4IDEwcHg7IC13ZWJraXQtdHJhbnNpdGlvbjogLXdlYmtpdC10cmFuc2Zvcm0gNTAwbXMgZWFzZS1vdXQsIG9wYWNpdHkgNTAwbXMgZWFzZS1vdXQ7IHRyYW5zaXRpb246IHRyYW5zZm9ybSA1MDBtcyBlYXNlLW91dCwgb3BhY2l0eSA1MDBtcyBlYXNlLW91dDsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgYm9yZGVyLXJhZGl1czogNHB4OyBjb2xvcjogI2ZmZjtcIlxcbiAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICcsdGhpcy50b2FzdD1uLmNoaWxkcmVuWzBdLGUuYXBwZW5kQ2hpbGQodGhpcy50b2FzdCksdC5ib2R5LmFwcGVuZENoaWxkKGUpfSxzZXRaSW5kZXg6ZnVuY3Rpb24odCl7dGhpcy56SW5kZXg9dCx0aGlzLnRvYXN0JiYodGhpcy50b2FzdC5zdHlsZS56SW5kZXg9dCl9LHNob3c6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMudG9hc3R8fHRoaXMuY3JlYXRlKCk7dmFyIG89dGhpcy50b2FzdCxpPW8ub3duZXJEb2N1bWVudCxzPWkuZ2V0RWxlbWVudEJ5SWQoXCJ0b2FzdENvbnRlbnRcIik7cy5pbm5lckhUTUw9XCJcIixzLmFwcGVuZENoaWxkKGkuY3JlYXRlVGV4dE5vZGUodCkpLHRoaXMucGxheVNob3dBbmltKHMpLG8uc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBuLmhpZGUoKX0sZXx8MmUzKX0scGxheVNob3dBbmltOmZ1bmN0aW9uKHQpe3Quc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlWSgtNDBweClcIix0LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInRyYW5zbGF0ZVkoLTQwcHgpXCIsdC5zdHlsZS5vcGFjaXR5PTAsc2V0VGltZW91dChmdW5jdGlvbigpe3Quc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlWSgwcHgpXCIsdC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09XCJ0cmFuc2xhdGVZKDBweClcIix0LnN0eWxlLm9wYWNpdHk9MX0pfSxoaWRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMudG9hc3Qub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvYXN0Q29udGVudFwiKTt0aGlzLnBsYXlIaWRlQW5pbShlKTt2YXIgbj1mdW5jdGlvbigpe2NvbnNvbGUubG9nKFwiaW4gYWZ0ZXIgYW5pbVwiKSx0LnRvYXN0LnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9O2Uuc3R5bGUudHJhbnNpdGlvbj90aGlzLmFkZE9uY2VFdmVudChlLFwidHJhbnNpdGlvbmVuZFwiLG4pOmUuc3R5bGUud2Via2l0VHJhbnNpdGlvbj90aGlzLmFkZE9uY2VFdmVudChlLFwid2Via2l0VHJhbnNpdGlvbkVuZFwiLG4pOm4oKX0sYWRkT25jZUV2ZW50OmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzLGk9YXJndW1lbnRzO3QuYWRkRXZlbnRMaXN0ZW5lcihlLGZ1bmN0aW9uIHMoKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxzKSxuLmFwcGx5KG8saSl9KX0scGxheUhpZGVBbmltOmZ1bmN0aW9uKHQpe3Quc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlWSgxMHB4KVwiLHQuc3R5bGUud2Via2l0VHJhbnNmb3JtPVwidHJhbnNsYXRlWSgxMHB4KVwiLHQuc3R5bGUub3BhY2l0eT0wfX07ZS5kZWZhdWx0PW99XSl9KTsiLCJtb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFBsYXllciB7XG4gIGNvbnN0cnVjdG9yIChzcmMsIGRlYnVnU3RhdGUgPSBmYWxzZSkge1xuICAgIHRoaXMuc3JjID0gc3JjXG4gICAgdGhpcy5jb250ZXh0ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKClcbiAgICB0aGlzLmxvYWRlZCA9IGZhbHNlXG4gICAgdGhpcy5idWZmZXIgPSBudWxsXG4gICAgdGhpcy5zb3VyY2UgPSBudWxsXG4gICAgdGhpcy5kZWJ1Z1N0YXRlID0gZGVidWdTdGF0ZVxuICAgIHRoaXMuc3RhcnRlZEF0ID0gMFxuICAgIHRoaXMub2Zmc2V0ID0gMFxuICAgIHRoaXMubG9vcFN0YXRlID0gZmFsc2VcbiAgICB0aGlzLmxpc3RlbmVycyA9IHt9XG4gICAgdGhpcy5vd25MaXN0ZW5lcnMgPSB7fVxuICAgIHRoaXMucGxheWluZyA9IGZhbHNlXG4gICAgdGhpcy5vd25FdmVudHMgPSBbJ3BsYXknLCAnc3RvcCcsICdwYXVzZScsICdmb3J3YXJkJywgJ3Jld2luZCcsICdsb2FkJywgJ2xvYWRlZCddXG5cbiAgICB0aGlzLmluaXRTb3VyY2UoKVxuICB9XG5cbiAgaW5pdFNvdXJjZSAoKSB7XG4gICAgdGhpcy5zb3VyY2UgPSB0aGlzLmNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKClcbiAgICB0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbilcblxuICAgIC8vIEFkZCBzZXQgZXZlbnQgbGlzdGVuZXJzIHRvIG5ldyBzb3VyY2UuXG4gICAgY29uc3QgZXZlbnRzID0gT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnMpXG4gICAgaWYgKCFldmVudHMubGVuZ3RoKSByZXR1cm5cbiAgICBldmVudHMubWFwKGV2ZW50TmFtZSA9PiB7XG4gICAgICB0aGlzLmxvZyhgUmUtYWRkIGV2ZW50OiAke2V2ZW50TmFtZX1gKVxuICAgICAgdGhpcy5zb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0pXG4gICAgfSlcbiAgfVxuXG4gIGNsZWFyU291cmNlICgpIHtcbiAgICBpZiAoIXRoaXMuc291cmNlKSByZXR1cm5cbiAgICBpZiAodGhpcy5wbGF5aW5nKSB0aGlzLnNvdXJjZS5zdG9wKClcbiAgICB0aGlzLnNvdXJjZS5kaXNjb25uZWN0KClcbiAgICB0aGlzLmluaXRTb3VyY2UoKVxuICB9XG5cbiAgc3RvcCAoKSB7XG4gICAgaWYgKCF0aGlzLnBsYXlpbmcpIHJldHVyblxuICAgIHRoaXMuY2xlYXJTb3VyY2UoKVxuICAgIHRoaXMuc3RhcnRlZEF0ID0gMFxuICAgIHRoaXMub2Zmc2V0ID0gMFxuICAgIHRoaXMucGxheWluZyA9IGZhbHNlXG4gICAgdGhpcy5sb2coJ1N0b3BwZWQuJylcbiAgICBpZiAodHlwZW9mIHRoaXMub3duTGlzdGVuZXJzLnN0b3AgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3duTGlzdGVuZXJzLnN0b3AoKVxuICAgIH1cbiAgfVxuXG4gIGxvYWQgKHNyYykge1xuICAgIHNyYyA9IHNyYyB8fCB0aGlzLnNyY1xuICAgIHRoaXMubG9nKCdMb2FkaW5nJywgc3JjKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vd25MaXN0ZW5lcnMubG9hZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vd25MaXN0ZW5lcnMubG9hZChzcmMpXG4gICAgfVxuICAgIGlmICh0aGlzLmxvYWRlZCkge1xuICAgICAgdGhpcy5jbGVhclNvdXJjZSgpXG4gICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzcmMgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmZldGNoZXIgPSB0aGlzLmNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKHNyYykudGhlbihhdWRpb0J1ZmZlciA9PiB7XG4gICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IGF1ZGlvQnVmZmVyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vd25MaXN0ZW5lcnMubG9hZGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vd25MaXN0ZW5lcnMubG9hZGVkKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgdGhpcy5mZXRjaGVyID0gd2luZG93XG4gICAgICAuZmV0Y2goc3JjLCB7IG1ldGhvZDogJ0dFVCcsIG1vZGU6ICduby1jb3JzJyB9KVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcbiAgICAgIC50aGVuKGFycmF5QnVmZmVyID0+IHRoaXMuY29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlCdWZmZXIpKVxuICAgICAgLnRoZW4oYXVkaW9CdWZmZXIgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWVcbiAgICAgICAgdGhpcy5idWZmZXIgPSBhdWRpb0J1ZmZlclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3duTGlzdGVuZXJzLmxvYWRlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3duTGlzdGVuZXJzLmxvYWRlZCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGdldFBsYXlUaW1lICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lIC0gdGhpcy5zdGFydGVkQXQgKyB0aGlzLm9mZnNldFxuICB9XG5cbiAgcGxheSAob2Zmc2V0KSB7XG4gICAgaWYgKHRoaXMuY29udGV4dC5zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcpIHtcbiAgICAgIHRoaXMuY29udGV4dC5yZXN1bWUoKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmxvYWRlZCkge1xuICAgICAgdGhpcy5sb2coJ1dhaXRpbmcgZm9yIGJ1ZmZlciB0byBsb2FkLi4uJylcbiAgICAgIHRoaXMuZmV0Y2hlci50aGVuKCgpID0+IHRoaXMucGxheSgpKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc291cmNlLmJ1ZmZlcikgcmV0dXJuXG5cbiAgICB0aGlzLnNvdXJjZS5idWZmZXIgPSB0aGlzLmJ1ZmZlclxuICAgIHRoaXMuc291cmNlLmxvb3BFbmQgPSB0aGlzLmJ1ZmZlci5kdXJhdGlvblxuICAgIHRoaXMuc291cmNlLmxvb3AgPSB0aGlzLmxvb3BTdGF0ZVxuICAgIHRoaXMuc3RhcnRlZEF0ID0gdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lXG4gICAgdGhpcy5zb3VyY2Uuc3RhcnQoMCwgb2Zmc2V0KVxuICAgIHRoaXMucGxheWluZyA9IHRydWVcbiAgICB0aGlzLnNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsICgpID0+IHRoaXMuc3RvcCgpKSAvLyBTbyB3ZSBjYW4gcmVzdGFydCBwbGF5YmFjay5cbiAgICB0aGlzLmxvZygnUGxheWluZy4uLicpXG4gICAgaWYgKHR5cGVvZiB0aGlzLm93bkxpc3RlbmVycy5wbGF5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm93bkxpc3RlbmVycy5wbGF5KClcbiAgICB9XG4gIH1cblxuICBwYXVzZSAoKSB7XG4gICAgdGhpcy5jb250ZXh0LnN1c3BlbmQoKVxuICAgIHRoaXMucGxheWluZyA9IGZhbHNlXG4gICAgdGhpcy5sb2coJ1BhdXNlZC4nKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vd25MaXN0ZW5lcnMucGF1c2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3duTGlzdGVuZXJzLnBhdXNlKClcbiAgICB9XG4gIH1cblxuICBsb29wIChsb29wU3RhdGUpIHtcbiAgICB0aGlzLmxvb3BTdGF0ZSA9IGxvb3BTdGF0ZVxuICAgIHRoaXMubG9nKCdMb29wOicsIGxvb3BTdGF0ZSA/ICdPTicgOiAnT0ZGJylcbiAgICB0aGlzLnNvdXJjZS5sb29wID0gbG9vcFN0YXRlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHRvZ2dsZUxvb3AgKCkge1xuICAgIHRoaXMubG9vcFN0YXRlID0gIXRoaXMubG9vcFN0YXRlXG4gICAgdGhpcy5sb2coJ1RvZ2dsZSBsb29wOicsIHRoaXMubG9vcFN0YXRlID8gJ09OJyA6ICdPRkYnKVxuICAgIHRoaXMuc291cmNlLmxvb3AgPSB0aGlzLmxvb3BTdGF0ZVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBmb3J3YXJkIChzZWNvbmRzID0gNSkge1xuICAgIHRoaXMubG9nKGA+PiBGb3J3YXJkICR7c2Vjb25kc30gc2Vjb25kc2ApXG4gICAgaWYgKHR5cGVvZiB0aGlzLm93bkxpc3RlbmVycy5mb3J3YXJkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm93bkxpc3RlbmVycy5mb3J3YXJkKHNlY29uZHMpXG4gICAgfVxuICAgIGNvbnN0IHBsYXlUaW1lID0gdGhpcy5nZXRQbGF5VGltZSgpXG4gICAgdGhpcy5vZmZzZXQgPSBwbGF5VGltZSArIHNlY29uZHNcbiAgICBpZiAodGhpcy5vZmZzZXQgPiB0aGlzLmJ1ZmZlci5kdXJhdGlvbikgdGhpcy5vZmZzZXQgPSB0aGlzLmJ1ZmZlci5kdXJhdGlvbiAtIHNlY29uZHNcbiAgICB0aGlzLmxvZygnUGxheSBAJywgdGhpcy5vZmZzZXQpXG4gICAgdGhpcy5jbGVhclNvdXJjZSgpXG4gICAgdGhpcy5wbGF5KHRoaXMub2Zmc2V0KVxuICB9XG5cbiAgcmV3aW5kIChzZWNvbmRzID0gNSkge1xuICAgIHRoaXMubG9nKGA8PCBSZXdpbmQgJHtzZWNvbmRzfSBzZWNvbmRzYClcbiAgICBpZiAodHlwZW9mIHRoaXMub3duTGlzdGVuZXJzLnJld2luZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vd25MaXN0ZW5lcnMucmV3aW5kKHNlY29uZHMpXG4gICAgfVxuICAgIGNvbnN0IHBsYXlUaW1lID0gdGhpcy5nZXRQbGF5VGltZSgpXG4gICAgdGhpcy5vZmZzZXQgPSBwbGF5VGltZSAtIHNlY29uZHNcbiAgICBpZiAodGhpcy5vZmZzZXQgPCAwKSB0aGlzLm9mZnNldCA9IDBcbiAgICB0aGlzLmxvZygnUGxheSBAJywgdGhpcy5vZmZzZXQpXG4gICAgdGhpcy5jbGVhclNvdXJjZSgpXG4gICAgdGhpcy5wbGF5KHRoaXMub2Zmc2V0KVxuICB9XG5cbiAgdXNlS2V5Ym9hcmQgKHNlbGVjdG9yKSB7XG4gICAgdGhpcy5sb2coJ1VzaW5nIGtleWJvYXJkLicpXG4gICAgbGV0ICRlbCA9IGRvY3VtZW50LmJvZHlcbiAgICBpZiAoc2VsZWN0b3IpICRlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXG4gICAgJGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoeyBrZXkgfSkgPT4ge1xuICAgICAgY29uc3Qga2V5TWFwID0ge1xuICAgICAgICBBcnJvd1JpZ2h0OiAoKSA9PiB0aGlzLmZvcndhcmQoKSxcbiAgICAgICAgQXJyb3dMZWZ0OiAoKSA9PiB0aGlzLnJld2luZCgpLFxuICAgICAgICB6OiAoKSA9PiB0aGlzLnN0b3AoKSxcbiAgICAgICAgeDogKCkgPT4gdGhpcy5wbGF5KCksXG4gICAgICAgIGM6ICgpID0+IHRoaXMucGF1c2UoKSxcbiAgICAgICAgbDogKCkgPT4gdGhpcy50b2dnbGVMb29wKClcbiAgICAgIH1cblxuICAgICAgY29uc3QgbWV0aG9kID0ga2V5TWFwW2tleV1cbiAgICAgIGlmIChtZXRob2QpIG1ldGhvZCgpXG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaXNPd25FdmVudCAoZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMub3duRXZlbnRzLmluY2x1ZGVzKGV2ZW50TmFtZSlcbiAgfVxuXG4gIG9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuaXNPd25FdmVudChldmVudE5hbWUpKSB7XG4gICAgICB0aGlzLm93bkxpc3RlbmVyc1tldmVudE5hbWVdID0gY2FsbGJhY2tcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgdGhpcy5zb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKVxuICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBjYWxsYmFja1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBkZWJ1ZyAoZGVidWdTdGF0ZSkge1xuICAgIHRoaXMuZGVidWdTdGF0ZSA9IGRlYnVnU3RhdGVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgbG9nICgpIHtcbiAgICBpZiAoIXRoaXMuZGVidWdTdGF0ZSkgcmV0dXJuXG4gICAgY29uc29sZS5sb2coJ1BsYXllcjonLCAuLi5hcmd1bWVudHMpXG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZHJhZ0Ryb3BcblxudmFyIGZsYXR0ZW4gPSByZXF1aXJlKCdmbGF0dGVuJylcbnZhciBwYXJhbGxlbCA9IHJlcXVpcmUoJ3J1bi1wYXJhbGxlbCcpXG5cbmZ1bmN0aW9uIGRyYWdEcm9wIChlbGVtLCBsaXN0ZW5lcnMpIHtcbiAgaWYgKHR5cGVvZiBlbGVtID09PSAnc3RyaW5nJykge1xuICAgIHZhciBzZWxlY3RvciA9IGVsZW1cbiAgICBlbGVtID0gd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbSlcbiAgICBpZiAoIWVsZW0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCInICsgc2VsZWN0b3IgKyAnXCIgZG9lcyBub3QgbWF0Y2ggYW55IEhUTUwgZWxlbWVudHMnKVxuICAgIH1cbiAgfVxuXG4gIGlmICghZWxlbSkge1xuICAgIHRocm93IG5ldyBFcnJvcignXCInICsgZWxlbSArICdcIiBpcyBub3QgYSB2YWxpZCBIVE1MIGVsZW1lbnQnKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBsaXN0ZW5lcnMgPSB7IG9uRHJvcDogbGlzdGVuZXJzIH1cbiAgfVxuXG4gIHZhciB0aW1lb3V0XG5cbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBvbkRyYWdFbnRlciwgZmFsc2UpXG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBvbkRyYWdPdmVyLCBmYWxzZSlcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBvbkRyYWdMZWF2ZSwgZmFsc2UpXG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIG9uRHJvcCwgZmFsc2UpXG5cbiAgLy8gRnVuY3Rpb24gdG8gcmVtb3ZlIGRyYWctZHJvcCBsaXN0ZW5lcnNcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZSAoKSB7XG4gICAgcmVtb3ZlRHJhZ0NsYXNzKClcbiAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIG9uRHJhZ0VudGVyLCBmYWxzZSlcbiAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgb25EcmFnT3ZlciwgZmFsc2UpXG4gICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBvbkRyYWdMZWF2ZSwgZmFsc2UpXG4gICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcm9wJywgb25Ecm9wLCBmYWxzZSlcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRHJhZ0VudGVyIChlKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbkRyYWdFbnRlcikge1xuICAgICAgbGlzdGVuZXJzLm9uRHJhZ0VudGVyKGUpXG4gICAgfVxuXG4gICAgLy8gUHJldmVudCBldmVudFxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRHJhZ092ZXIgKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAobGlzdGVuZXJzLm9uRHJhZ092ZXIpIHtcbiAgICAgIGxpc3RlbmVycy5vbkRyYWdPdmVyKGUpXG4gICAgfVxuXG4gICAgaWYgKGUuZGF0YVRyYW5zZmVyLml0ZW1zKSB7XG4gICAgICAvLyBPbmx5IGFkZCBcImRyYWdcIiBjbGFzcyB3aGVuIGBpdGVtc2AgY29udGFpbnMgaXRlbXMgdGhhdCBhcmUgYWJsZSB0byBiZVxuICAgICAgLy8gaGFuZGxlZCBieSB0aGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMgKGZpbGVzIHZzLiB0ZXh0KVxuICAgICAgdmFyIGl0ZW1zID0gQXJyYXkuZnJvbShlLmRhdGFUcmFuc2Zlci5pdGVtcylcbiAgICAgIHZhciBmaWxlSXRlbXMgPSBpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ua2luZCA9PT0gJ2ZpbGUnXG4gICAgICB9KVxuICAgICAgdmFyIHRleHRJdGVtcyA9IGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5raW5kID09PSAnc3RyaW5nJ1xuICAgICAgfSlcblxuICAgICAgaWYgKGZpbGVJdGVtcy5sZW5ndGggPT09IDAgJiYgIWxpc3RlbmVycy5vbkRyb3BUZXh0KSByZXR1cm5cbiAgICAgIGlmICh0ZXh0SXRlbXMubGVuZ3RoID09PSAwICYmICFsaXN0ZW5lcnMub25Ecm9wKSByZXR1cm5cbiAgICAgIGlmIChmaWxlSXRlbXMubGVuZ3RoID09PSAwICYmIHRleHRJdGVtcy5sZW5ndGggPT09IDApIHJldHVyblxuICAgIH1cblxuICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnZHJhZycpXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG5cbiAgICBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ2NvcHknXG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRHJhZ0xlYXZlIChlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgaWYgKGxpc3RlbmVycy5vbkRyYWdMZWF2ZSkge1xuICAgICAgbGlzdGVuZXJzLm9uRHJhZ0xlYXZlKGUpXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQocmVtb3ZlRHJhZ0NsYXNzLCA1MClcblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZnVuY3Rpb24gb25Ecm9wIChlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgaWYgKGxpc3RlbmVycy5vbkRyYWdMZWF2ZSkge1xuICAgICAgbGlzdGVuZXJzLm9uRHJhZ0xlYXZlKGUpXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgcmVtb3ZlRHJhZ0NsYXNzKClcblxuICAgIHZhciBwb3MgPSB7XG4gICAgICB4OiBlLmNsaWVudFgsXG4gICAgICB5OiBlLmNsaWVudFlcbiAgICB9XG5cbiAgICAvLyB0ZXh0IGRyb3Agc3VwcG9ydFxuICAgIHZhciB0ZXh0ID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dCcpXG4gICAgaWYgKHRleHQgJiYgbGlzdGVuZXJzLm9uRHJvcFRleHQpIHtcbiAgICAgIGxpc3RlbmVycy5vbkRyb3BUZXh0KHRleHQsIHBvcylcbiAgICB9XG5cbiAgICAvLyBGaWxlIGRyb3Agc3VwcG9ydC4gVGhlIGBkYXRhVHJhbnNmZXIuaXRlbXNgIEFQSSBzdXBwb3J0cyBkaXJlY3Rvcmllcywgc28gd2VcbiAgICAvLyB1c2UgaXQgaW5zdGVhZCBvZiBgZGF0YVRyYW5zZmVyLmZpbGVzYCwgZXZlbiB0aG91Z2ggaXQncyBtdWNoIG1vcmVcbiAgICAvLyBjb21wbGljYXRlZCB0byB1c2UuXG4gICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2RyYWctZHJvcC9pc3N1ZXMvMzlcbiAgICBpZiAobGlzdGVuZXJzLm9uRHJvcCAmJiBlLmRhdGFUcmFuc2Zlci5pdGVtcykge1xuICAgICAgdmFyIGZpbGVMaXN0ID0gZS5kYXRhVHJhbnNmZXIuZmlsZXNcblxuICAgICAgLy8gSGFuZGxlIGRpcmVjdG9yaWVzIGluIENocm9tZSB1c2luZyB0aGUgcHJvcHJpZXRhcnkgRmlsZVN5c3RlbSBBUElcbiAgICAgIHZhciBpdGVtcyA9IEFycmF5LmZyb20oZS5kYXRhVHJhbnNmZXIuaXRlbXMpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5raW5kID09PSAnZmlsZSdcbiAgICAgIH0pXG5cbiAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHJldHVyblxuXG4gICAgICBwYXJhbGxlbChcbiAgICAgICAgaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgcHJvY2Vzc0VudHJ5KGl0ZW0ud2Via2l0R2V0QXNFbnRyeSgpLCBjYilcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgICAgLy8gVGhpcyBjYXRjaGVzIHBlcm1pc3Npb24gZXJyb3JzIHdpdGggZmlsZTovLyBpbiBDaHJvbWUuIFRoaXMgc2hvdWxkIG5ldmVyXG4gICAgICAgICAgLy8gdGhyb3cgaW4gcHJvZHVjdGlvbiBjb2RlLCBzbyB0aGUgdXNlciBkb2VzIG5vdCBuZWVkIHRvIHVzZSB0cnktY2F0Y2guXG4gICAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyXG5cbiAgICAgICAgICB2YXIgZW50cmllcyA9IGZsYXR0ZW4ocmVzdWx0cylcblxuICAgICAgICAgIHZhciBmaWxlcyA9IGVudHJpZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5pc0ZpbGVcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgdmFyIGRpcmVjdG9yaWVzID0gZW50cmllcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmlzRGlyZWN0b3J5XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGxpc3RlbmVycy5vbkRyb3AoZmlsZXMsIHBvcywgZmlsZUxpc3QsIGRpcmVjdG9yaWVzKVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVEcmFnQ2xhc3MgKCkge1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnZHJhZycpXG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0VudHJ5IChlbnRyeSwgY2IpIHtcbiAgdmFyIGVudHJpZXMgPSBbXVxuXG4gIGlmIChlbnRyeS5pc0ZpbGUpIHtcbiAgICBlbnRyeS5maWxlKFxuICAgICAgZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgZmlsZS5mdWxsUGF0aCA9IGVudHJ5LmZ1bGxQYXRoIC8vIHByZXNlcnZlIHBhdGhpbmcgZm9yIGNvbnN1bWVyXG4gICAgICAgIGZpbGUuaXNGaWxlID0gdHJ1ZVxuICAgICAgICBmaWxlLmlzRGlyZWN0b3J5ID0gZmFsc2VcbiAgICAgICAgY2IobnVsbCwgZmlsZSlcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGNiKGVycilcbiAgICAgIH1cbiAgICApXG4gIH0gZWxzZSBpZiAoZW50cnkuaXNEaXJlY3RvcnkpIHtcbiAgICB2YXIgcmVhZGVyID0gZW50cnkuY3JlYXRlUmVhZGVyKClcbiAgICByZWFkRW50cmllcygpXG4gIH1cblxuICBmdW5jdGlvbiByZWFkRW50cmllcyAoKSB7XG4gICAgcmVhZGVyLnJlYWRFbnRyaWVzKGZ1bmN0aW9uIChlbnRyaWVzXykge1xuICAgICAgaWYgKGVudHJpZXNfLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZW50cmllcyA9IGVudHJpZXMuY29uY2F0KEFycmF5LmZyb20oZW50cmllc18pKVxuICAgICAgICByZWFkRW50cmllcygpIC8vIGNvbnRpbnVlIHJlYWRpbmcgZW50cmllcyB1bnRpbCBgcmVhZEVudHJpZXNgIHJldHVybnMgbm8gbW9yZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZUVudHJpZXMoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBkb25lRW50cmllcyAoKSB7XG4gICAgcGFyYWxsZWwoXG4gICAgICBlbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgIHByb2Nlc3NFbnRyeShlbnRyeSwgY2IpXG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgY2IoZXJyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICBmdWxsUGF0aDogZW50cnkuZnVsbFBhdGgsXG4gICAgICAgICAgICBuYW1lOiBlbnRyeS5uYW1lLFxuICAgICAgICAgICAgaXNGaWxlOiBmYWxzZSxcbiAgICAgICAgICAgIGlzRGlyZWN0b3J5OiB0cnVlXG4gICAgICAgICAgfSlcbiAgICAgICAgICBjYihudWxsLCByZXN1bHRzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUGxheWVyIGZyb20gJ3VwbGF5ZXInXG5pbXBvcnQgZHJhZ0Ryb3AgZnJvbSAnZHJhZy1kcm9wJ1xuaW1wb3J0IHRvYXN0IGZyb20gJ2pzLXNpbXBsZS10b2FzdCdcblxuY29uc29sZS5sb2coJ1RPQVNUJywgdG9hc3QpXG5sZXQgZmlsZW5hbWVcbmxldCB0aW1lb3V0XG5jb25zdCB0b2FzdER1cmF0aW9uID0gMjAwMFxuY29uc3QgcGxheWVyID0gbmV3IFBsYXllcignaHR0cHM6Ly9wbGF5LXNwZWN0cnVtLmhlcm9rdWFwcC5jb20vZGVwbG95Lm1wMycpXG5wbGF5ZXJcbiAgLmRlYnVnKHRydWUpXG4gIC5vbignc3RvcCcsICgpID0+IHNob3dUb2FzdCgnU3RvcC4nKSlcbiAgLm9uKCdwYXVzZScsICgpID0+IHNob3dUb2FzdCgnUGF1c2UuJykpXG4gIC5vbigncGxheScsICgpID0+IHNob3dUb2FzdChgUGxheWluZyAke2ZpbGVuYW1lfS4uLmApKVxuICAub24oJ2ZvcndhcmQnLCBzZWNvbmRzID0+IHNob3dUb2FzdChgRm9yd2FyZCAke3NlY29uZHN9IHNlY29uZHMuYCkpXG4gIC5vbigncmV3aW5kJywgc2Vjb25kcyA9PiBzaG93VG9hc3QoYFJld2luZCAke3NlY29uZHN9IHNlY29uZHMuYCkpXG4gIC51c2VLZXlib2FyZCgpXG4gIC5sb2FkKClcbiAgLnBsYXkoKVxuc2hvd1RvYXN0KCdEcm9wIGFuIGF1ZGlvIGZpbGUgdG8gc3RhcnQgcGxheWluZyEnKVxuXG5kcmFnRHJvcCgnYm9keScsIGZ1bmN0aW9uIChmaWxlcykge1xuICBjb25zdCBmaWxlID0gZmlsZXNbMF1cbiAgY29uc29sZS5sb2coJ0dPVCBGSUxFOicsIGZpbGUpXG4gIGZpbGVuYW1lID0gZmlsZS5uYW1lXG4gIGNvbnN0IHJlYWRlciA9IG5ldyB3aW5kb3cuRmlsZVJlYWRlcigpXG4gIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IGUudGFyZ2V0LnJlc3VsdFxuICAgIHBsYXllci5sb2FkKGRhdGEpLnBsYXkoKVxuICB9KVxuICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGVSZWFkZXIgZXJyb3InICsgZXJyKVxuICAgIHRvYXN0LnNob3coJ09vcHMhIFNvbWV0aGluZyB3ZW50IHdyb25nIDooJylcbiAgfSlcbiAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpXG59KVxuXG5mdW5jdGlvbiBzaG93VG9hc3QgKG1lc3NhZ2UpIHtcbiAgaWYgKHRvYXN0LnRvYXN0ICYmIHRvYXN0LnRvYXN0LnN0eWxlLmRpc3BsYXkgIT09ICdub25lJykge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHNob3dUb2FzdChtZXNzYWdlLCB0b2FzdER1cmF0aW9uKSwgMTAwKVxuICAgIHJldHVyblxuICB9XG5cbiAgdG9hc3Quc2hvdyhtZXNzYWdlLCB0b2FzdER1cmF0aW9uKVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmbGF0dGVuKGxpc3QsIGRlcHRoKSB7XG4gIGRlcHRoID0gKHR5cGVvZiBkZXB0aCA9PSAnbnVtYmVyJykgPyBkZXB0aCA6IEluZmluaXR5O1xuXG4gIGlmICghZGVwdGgpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgICAgcmV0dXJuIGxpc3QubWFwKGZ1bmN0aW9uKGkpIHsgcmV0dXJuIGk7IH0pO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIHJldHVybiBfZmxhdHRlbihsaXN0LCAxKTtcblxuICBmdW5jdGlvbiBfZmxhdHRlbihsaXN0LCBkKSB7XG4gICAgcmV0dXJuIGxpc3QucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGl0ZW0pIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pICYmIGQgPCBkZXB0aCkge1xuICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChfZmxhdHRlbihpdGVtLCBkICsgMSkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhY2MuY29uY2F0KGl0ZW0pO1xuICAgICAgfVxuICAgIH0sIFtdKTtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcnVuUGFyYWxsZWxcblxuZnVuY3Rpb24gcnVuUGFyYWxsZWwgKHRhc2tzLCBjYikge1xuICB2YXIgcmVzdWx0cywgcGVuZGluZywga2V5c1xuICB2YXIgaXNTeW5jID0gdHJ1ZVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHRhc2tzKSkge1xuICAgIHJlc3VsdHMgPSBbXVxuICAgIHBlbmRpbmcgPSB0YXNrcy5sZW5ndGhcbiAgfSBlbHNlIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXModGFza3MpXG4gICAgcmVzdWx0cyA9IHt9XG4gICAgcGVuZGluZyA9IGtleXMubGVuZ3RoXG4gIH1cblxuICBmdW5jdGlvbiBkb25lIChlcnIpIHtcbiAgICBmdW5jdGlvbiBlbmQgKCkge1xuICAgICAgaWYgKGNiKSBjYihlcnIsIHJlc3VsdHMpXG4gICAgICBjYiA9IG51bGxcbiAgICB9XG4gICAgaWYgKGlzU3luYykgcHJvY2Vzcy5uZXh0VGljayhlbmQpXG4gICAgZWxzZSBlbmQoKVxuICB9XG5cbiAgZnVuY3Rpb24gZWFjaCAoaSwgZXJyLCByZXN1bHQpIHtcbiAgICByZXN1bHRzW2ldID0gcmVzdWx0XG4gICAgaWYgKC0tcGVuZGluZyA9PT0gMCB8fCBlcnIpIHtcbiAgICAgIGRvbmUoZXJyKVxuICAgIH1cbiAgfVxuXG4gIGlmICghcGVuZGluZykge1xuICAgIC8vIGVtcHR5XG4gICAgZG9uZShudWxsKVxuICB9IGVsc2UgaWYgKGtleXMpIHtcbiAgICAvLyBvYmplY3RcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdGFza3Nba2V5XShmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHsgZWFjaChrZXksIGVyciwgcmVzdWx0KSB9KVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgLy8gYXJyYXlcbiAgICB0YXNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0YXNrLCBpKSB7XG4gICAgICB0YXNrKGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkgeyBlYWNoKGksIGVyciwgcmVzdWx0KSB9KVxuICAgIH0pXG4gIH1cblxuICBpc1N5bmMgPSBmYWxzZVxufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=