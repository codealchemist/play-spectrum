!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){window,t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./dist/",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={create:function(){var t=document,e=t.createDocumentFragment(),n=t.createElement("div"),o=this.zIndex||1e3;n.innerHTML='\n            <div class="toast-container"\n                style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: '+o+'; background-color: rgba(0,0,0,0.5); display: none">\n                <div class="toast-content-container"\n                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); -webkit-transform: translate(-50%, -50%);"\n                >\n                    <div id="toastContent" class="toast-content" style="padding: 4px 10px; -webkit-transition: -webkit-transform 500ms ease-out, opacity 500ms ease-out; transition: transform 500ms ease-out, opacity 500ms ease-out; background-color: #000; border-radius: 4px; color: #fff;"\n                    ></div>\n                </div>\n            </div>\n        ',this.toast=n.children[0],e.appendChild(this.toast),t.body.appendChild(e)},setZIndex:function(t){this.zIndex=t,this.toast&&(this.toast.style.zIndex=t)},show:function(t,e){var n=this;this.toast||this.create();var o=this.toast,i=o.ownerDocument,r=i.getElementById("toastContent");r.innerHTML="",r.appendChild(i.createTextNode(t)),this.playShowAnim(r),o.style.display="block",setTimeout(function(){return n.hide()},e||2e3)},playShowAnim:function(t){t.style.transform="translateY(-40px)",t.style.webkitTransform="translateY(-40px)",t.style.opacity=0,setTimeout(function(){t.style.transform="translateY(0px)",t.style.webkitTransform="translateY(0px)",t.style.opacity=1})},hide:function(){var t=this,e=this.toast.ownerDocument.getElementById("toastContent");this.playHideAnim(e);var n=function(){console.log("in after anim"),t.toast.style.display="none"};e.style.transition?this.addOnceEvent(e,"transitionend",n):e.style.webkitTransition?this.addOnceEvent(e,"webkitTransitionEnd",n):n()},addOnceEvent:function(t,e,n){var o=this,i=arguments;t.addEventListener(e,function r(){t.removeEventListener(e,r),n.apply(o,i)})},playHideAnim:function(t){t.style.transform="translateY(10px)",t.style.webkitTransform="translateY(10px)",t.style.opacity=0}};e.default=o}])},function(t,e){t.exports=class{constructor(t,e=!1){this.src=t,this.context=new(window.AudioContext||window.webkitAudioContext),this.loaded=!1,this.buffer=null,this.source=null,this.debugState=e,this.startedAt=0,this.offset=0,this.loopState=!1,this.listeners={},this.ownListeners={},this.playing=!1,this.ownEvents=["play","stop","pause","forward","rewind","load","loaded"],this.initSource()}initSource(){this.source=this.context.createBufferSource(),this.source.connect(this.context.destination);const t=Object.keys(this.listeners);t.length&&t.map(t=>{this.log(`Re-add event: ${t}`),this.source.addEventListener(t,this.listeners[t])})}clearSource(){this.source&&(this.playing&&this.source.stop(),this.source.disconnect(),this.initSource())}stop(){this.clearSource(),this.startedAt=0,this.offset=0,this.playing=!1,this.log("Stopped."),"function"==typeof this.ownListeners.stop&&this.ownListeners.stop()}load(t){return t=t||this.src,this.log("Loading",t),"function"==typeof this.ownListeners.load&&this.ownListeners.load(t),this.loaded&&(this.clearSource(),this.loaded=!1),"string"!=typeof t?(this.fetcher=this.context.decodeAudioData(t).then(t=>{this.loaded=!0,this.buffer=t,"function"==typeof this.ownListeners.loaded&&this.ownListeners.loaded()}),this):(this.fetcher=window.fetch(t,{method:"GET",mode:"no-cors"}).then(t=>t.arrayBuffer()).then(t=>this.context.decodeAudioData(t)).then(t=>{this.loaded=!0,this.buffer=t,"function"==typeof this.ownListeners.loaded&&this.ownListeners.loaded()}),this)}getPlayTime(){return this.context.currentTime-this.startedAt+this.offset}play(t){if("suspended"!==this.context.state)return this.loaded?void(this.source.buffer||(this.source.buffer=this.buffer,this.source.loopEnd=this.buffer.duration,this.source.loop=this.loopState,this.startedAt=this.context.currentTime,this.source.start(0,t),this.playing=!0,this.source.addEventListener("ended",()=>this.stop()),this.log("Playing..."),"function"==typeof this.ownListeners.play&&this.ownListeners.play())):(this.log("Waiting for buffer to load..."),void this.fetcher.then(()=>this.play()));this.context.resume()}pause(){this.context.suspend(),this.playing=!1,this.log("Paused."),"function"==typeof this.ownListeners.pause&&this.ownListeners.pause()}loop(t){return this.loopState=t,this.log("Loop:",t?"ON":"OFF"),this.source.loop=t,this}toggleLoop(){return this.loopState=!this.loopState,this.log("Toggle loop:",this.loopState?"ON":"OFF"),this.source.loop=this.loopState,this}forward(t=5){this.log(`>> Forward ${t} seconds`),"function"==typeof this.ownListeners.forward&&this.ownListeners.forward(t);const e=this.getPlayTime();this.offset=e+t,this.offset>this.buffer.duration&&(this.offset=this.buffer.duration-t),this.log("Play @",this.offset),this.clearSource(),this.play(this.offset)}rewind(t=5){this.log(`<< Rewind ${t} seconds`),"function"==typeof this.ownListeners.rewind&&this.ownListeners.rewind(t);const e=this.getPlayTime();this.offset=e-t,this.offset<0&&(this.offset=0),this.log("Play @",this.offset),this.clearSource(),this.play(this.offset)}useKeyboard(t){this.log("Using keyboard.");let e=document.body;return t&&(e=document.querySelector(t)),e.addEventListener("keydown",({key:t})=>{const e={ArrowRight:()=>this.forward(),ArrowLeft:()=>this.rewind(),z:()=>this.stop(),x:()=>this.play(),c:()=>this.pause(),l:()=>this.toggleLoop()}[t];e&&e()}),this}isOwnEvent(t){return this.ownEvents.includes(t)}on(t,e){return this.isOwnEvent(t)?(this.ownListeners[t]=e,this):(this.source.addEventListener(t,e),this.listeners[t]=e,this)}debug(t){return this.debugState=t,this}log(){this.debugState&&console.log("Player:",...arguments)}}},function(t,e,n){t.exports=function(t,e){if("string"==typeof t){var n=t;if(!(t=window.document.querySelector(t)))throw new Error('"'+n+'" does not match any HTML elements')}if(!t)throw new Error('"'+t+'" is not a valid HTML element');"function"==typeof e&&(e={onDrop:e});var s;return t.addEventListener("dragenter",a,!1),t.addEventListener("dragover",u,!1),t.addEventListener("dragleave",l,!1),t.addEventListener("drop",c,!1),function(){f(),t.removeEventListener("dragenter",a,!1),t.removeEventListener("dragover",u,!1),t.removeEventListener("dragleave",l,!1),t.removeEventListener("drop",c,!1)};function a(t){return e.onDragEnter&&e.onDragEnter(t),t.stopPropagation(),t.preventDefault(),!1}function u(n){if(n.stopPropagation(),n.preventDefault(),e.onDragOver&&e.onDragOver(n),n.dataTransfer.items){var o=Array.from(n.dataTransfer.items),i=o.filter(function(t){return"file"===t.kind}),r=o.filter(function(t){return"string"===t.kind});if(0===i.length&&!e.onDropText)return;if(0===r.length&&!e.onDrop)return;if(0===i.length&&0===r.length)return}return t.classList.add("drag"),clearTimeout(s),n.dataTransfer.dropEffect="copy",!1}function l(t){return t.stopPropagation(),t.preventDefault(),e.onDragLeave&&e.onDragLeave(t),clearTimeout(s),s=setTimeout(f,50),!1}function c(t){t.stopPropagation(),t.preventDefault(),e.onDragLeave&&e.onDragLeave(t),clearTimeout(s),f();var n={x:t.clientX,y:t.clientY},a=t.dataTransfer.getData("text");if(a&&e.onDropText&&e.onDropText(a,n),e.onDrop&&t.dataTransfer.items){var u=t.dataTransfer.files,l=Array.from(t.dataTransfer.items).filter(function(t){return"file"===t.kind});if(0===l.length)return;i(l.map(function(t){return function(e){!function(t,e){var n=[];if(t.isFile)t.file(function(n){n.fullPath=t.fullPath,n.isFile=!0,n.isDirectory=!1,e(null,n)},function(t){e(t)});else if(t.isDirectory){var o=t.createReader();!function s(){o.readEntries(function(o){o.length>0?(n=n.concat(Array.from(o)),s()):i(n.map(function(t){return function(e){r(t,e)}}),function(n,o){n?e(n):(o.push({fullPath:t.fullPath,name:t.name,isFile:!1,isDirectory:!0}),e(null,o))})})}()}}(t.webkitGetAsEntry(),e)}}),function(t,i){if(t)throw t;var r=o(i),s=r.filter(function(t){return t.isFile}),a=r.filter(function(t){return t.isDirectory});e.onDrop(s,n,u,a)})}return!1}function f(){t.classList.remove("drag")}};var o=n(6),i=n(7);function r(t,e){var n=[];if(t.isFile){t.file(function(n){n.fullPath=t.fullPath;n.isFile=true;n.isDirectory=false;e(null,n)},function(t){e(t)})}else if(t.isDirectory){var o=t.createReader();s()}function s(){o.readEntries(function(t){if(t.length>0){n=n.concat(Array.from(t));s()}else{a()}})}function a(){i(n.map(function(t){return function(e){r(t,e)}}),function(n,o){if(n){e(n)}else{o.push({fullPath:t.fullPath,name:t.name,isFile:false,isDirectory:true});e(null,o)}})}}},function(t,e){t.exports=class{constructor({audioContext:t,audioBuffer:e,audioSource:n,canvas:o}={}){"string"==typeof o&&(o=document.getElementById(o)),o||(o=document.createElement("canvas"),document.body.appendChild(o)),this.$canvas=o,this.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.$canvas.width=this.width,this.$canvas.height=this.height,this.canvasContext=this.$canvas.getContext("2d"),t&&e&&n&&this.setAnalyzer({audioContext:t,audioBuffer:e,audioSource:n})}setAnalyzer({audioContext:t,audioBuffer:e,audioSource:n}){return console.log("SET ANALYZER"),this.analyser=t.createAnalyser(),this.analyser.fftSize=2048,this.analyser.minDecibels=-90,this.analyser.maxDecibels=-10,this.analyser.smoothingTimeConstant=.85,this.analyser.buffer=e,n.connect(this.analyser),this}render(){const t=this.analyser.fftSize,e=new Uint8Array(t);window.requestAnimationFrame(()=>this.render()),this.analyser.getByteTimeDomainData(e),this.canvasContext.fillStyle="black",this.canvasContext.fillRect(0,0,this.width,this.height),this.canvasContext.lineWidth=2,this.canvasContext.strokeStyle="yellow",this.canvasContext.beginPath();const n=1*this.width/t;let o=0;for(let i=0;i<t;i++){const t=e[i]/128*this.height/2;0===i?this.canvasContext.moveTo(o,t):this.canvasContext.lineTo(o,t),o+=n}this.canvasContext.lineTo(this.$canvas.width,this.$canvas.height/2),this.canvasContext.stroke()}}},function(t,e){t.exports=new class{isFullscreen(){return this.fullscreenElement=document.fullscreenElement,void 0===this.fullscreenElement&&(this.fullscreenElement=document.webkitFullscreenElement),!!this.fullscreenElement}toggle(){if(this.isFullscreen())return this.disableFullscreen();this.enableFullscreen()}enableFullscreen(){if(document.body.requestFullscreen)return document.body.requestFullscreen();document.body.webkitRequestFullScreen()}disableFullscreen(){document.exitFullscreen&&document.exitFullscreen(),document.webkitExitFullscreen()}set(t=document){"string"==typeof t&&(t=document.querySelector(t)),t.addEventListener("dblclick",()=>{this.toggle()})}}},function(t,e,n){"use strict";n.r(e);var o=n(1),i=n.n(o),r=n(2),s=n.n(r),a=n(0),u=n.n(a),l=n(3),c=n.n(l),f=n(4);let d,h;n.n(f).a.set(),console.log("TOAST",u.a);const p=2e3,y=new c.a,m=new i.a("https://play-spectrum.herokuapp.com/deploy.mp3");function g(t){if(u.a.toast&&"none"!==u.a.toast.style.display)return clearTimeout(h),void(h=setTimeout(()=>g(t),100));u.a.show(t,p)}m.debug(!0).on("stop",()=>g("Stop.")).on("pause",()=>g("Pause.")).on("play",()=>{d&&g(`Playing ${d}...`),y.setAnalyzer({audioContext:m.context,audioBuffer:m.buffer,audioSource:m.source}).render()}).on("forward",t=>g(`Forward ${t} seconds.`)).on("rewind",t=>g(`Rewind ${t} seconds.`)).useKeyboard().load().play(),g("Drop an audio file to start playing!"),s()("body",function(t){const e=t[0];console.log("GOT FILE:",e),d=e.name;const n=new window.FileReader;n.addEventListener("load",t=>{const e=t.target.result;m.load(e).play()}),n.addEventListener("error",t=>{console.error("FileReader error"+t),u.a.show("Oops! Something went wrong :(")}),n.readAsArrayBuffer(e)})},function(t,e){t.exports=function(t,e){return(e="number"==typeof e?e:1/0)?function t(n,o){return n.reduce(function(n,i){return Array.isArray(i)&&o<e?n.concat(t(i,o+1)):n.concat(i)},[])}(t,1):Array.isArray(t)?t.map(function(t){return t}):t}},function(t,e,n){(function(e){t.exports=function(t,n){var o,i,r,s=!0;Array.isArray(t)?(o=[],i=t.length):(r=Object.keys(t),o={},i=r.length);function a(t){function i(){n&&n(t,o),n=null}s?e.nextTick(i):i()}function u(t,e,n){o[t]=n,(0==--i||e)&&a(e)}i?r?r.forEach(function(e){t[e](function(t,n){u(e,t,n)})}):t.forEach(function(t,e){t(function(t,n){u(e,t,n)})}):a(null);s=!1}}).call(this,n(8))},function(t,e){var n,o,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var t=a(d);c=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,c=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzLXNpbXBsZS10b2FzdC9kaXN0L3NpbXBsZVRvYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cGxheWVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3AvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NwZWN0cnVtL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9mdWxsc2NyZWVuLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxhdHRlbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnVuLXBhcmFsbGVsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ3aW5kb3ciLCJlIiwiY29uZmlndXJhYmxlIiwiZGVmYXVsdCIsImRvY3VtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0aGlzIiwiekluZGV4IiwiaW5uZXJIVE1MIiwidG9hc3QiLCJjaGlsZHJlbiIsImFwcGVuZENoaWxkIiwiYm9keSIsInNldFpJbmRleCIsInN0eWxlIiwic2hvdyIsIm93bmVyRG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZVRleHROb2RlIiwicGxheVNob3dBbmltIiwiZGlzcGxheSIsInNldFRpbWVvdXQiLCJoaWRlIiwidHJhbnNmb3JtIiwid2Via2l0VHJhbnNmb3JtIiwib3BhY2l0eSIsInBsYXlIaWRlQW5pbSIsImNvbnNvbGUiLCJsb2ciLCJ0cmFuc2l0aW9uIiwiYWRkT25jZUV2ZW50Iiwid2Via2l0VHJhbnNpdGlvbiIsImFyZ3VtZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYXBwbHkiLCJbb2JqZWN0IE9iamVjdF0iLCJzcmMiLCJkZWJ1Z1N0YXRlIiwiY29udGV4dCIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsImxvYWRlZCIsImJ1ZmZlciIsInNvdXJjZSIsInN0YXJ0ZWRBdCIsIm9mZnNldCIsImxvb3BTdGF0ZSIsImxpc3RlbmVycyIsIm93bkxpc3RlbmVycyIsInBsYXlpbmciLCJvd25FdmVudHMiLCJpbml0U291cmNlIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwiZXZlbnRzIiwia2V5cyIsImxlbmd0aCIsIm1hcCIsImV2ZW50TmFtZSIsInN0b3AiLCJkaXNjb25uZWN0IiwiY2xlYXJTb3VyY2UiLCJsb2FkIiwiZmV0Y2hlciIsImRlY29kZUF1ZGlvRGF0YSIsInRoZW4iLCJhdWRpb0J1ZmZlciIsImZldGNoIiwibWV0aG9kIiwicmVzcG9uc2UiLCJhcnJheUJ1ZmZlciIsImN1cnJlbnRUaW1lIiwic3RhdGUiLCJsb29wRW5kIiwiZHVyYXRpb24iLCJsb29wIiwic3RhcnQiLCJwbGF5IiwicmVzdW1lIiwic3VzcGVuZCIsInBhdXNlIiwic2Vjb25kcyIsImZvcndhcmQiLCJwbGF5VGltZSIsImdldFBsYXlUaW1lIiwicmV3aW5kIiwic2VsZWN0b3IiLCIkZWwiLCJxdWVyeVNlbGVjdG9yIiwiQXJyb3dSaWdodCIsIkFycm93TGVmdCIsInoiLCJ4IiwidG9nZ2xlTG9vcCIsImluY2x1ZGVzIiwiY2FsbGJhY2siLCJpc093bkV2ZW50IiwiZWxlbSIsIkVycm9yIiwib25Ecm9wIiwidGltZW91dCIsIm9uRHJhZ0VudGVyIiwib25EcmFnT3ZlciIsIm9uRHJhZ0xlYXZlIiwicmVtb3ZlRHJhZ0NsYXNzIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJkYXRhVHJhbnNmZXIiLCJpdGVtcyIsIkFycmF5IiwiZnJvbSIsImZpbGVJdGVtcyIsImZpbHRlciIsIml0ZW0iLCJraW5kIiwidGV4dEl0ZW1zIiwib25Ecm9wVGV4dCIsImNsYXNzTGlzdCIsImFkZCIsImNsZWFyVGltZW91dCIsImRyb3BFZmZlY3QiLCJwb3MiLCJjbGllbnRYIiwieSIsImNsaWVudFkiLCJ0ZXh0IiwiZ2V0RGF0YSIsImZpbGVMaXN0IiwiZmlsZXMiLCJwYXJhbGxlbCIsImNiIiwiZW50cnkiLCJlbnRyaWVzIiwiaXNGaWxlIiwiZmlsZSIsImZ1bGxQYXRoIiwiaXNEaXJlY3RvcnkiLCJlcnIiLCJyZWFkZXIiLCJjcmVhdGVSZWFkZXIiLCJyZWFkRW50cmllcyIsImVudHJpZXNfIiwiY29uY2F0IiwicHJvY2Vzc0VudHJ5IiwicmVzdWx0cyIsInB1c2giLCJ3ZWJraXRHZXRBc0VudHJ5IiwiZmxhdHRlbiIsImRpcmVjdG9yaWVzIiwicmVtb3ZlIiwiZG9uZUVudHJpZXMiLCJhdWRpb0NvbnRleHQiLCJhdWRpb1NvdXJjZSIsImNhbnZhcyIsIiRjYW52YXMiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY2FudmFzQ29udGV4dCIsImdldENvbnRleHQiLCJzZXRBbmFseXplciIsImFuYWx5c2VyIiwiY3JlYXRlQW5hbHlzZXIiLCJmZnRTaXplIiwibWluRGVjaWJlbHMiLCJtYXhEZWNpYmVscyIsInNtb290aGluZ1RpbWVDb25zdGFudCIsImJ1ZmZlckxlbmd0aCIsIlVpbnQ4QXJyYXkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXIiLCJnZXRCeXRlVGltZURvbWFpbkRhdGEiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwic2xpY2VXaWR0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImZ1bGxzY3JlZW5FbGVtZW50IiwidW5kZWZpbmVkIiwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnQiLCJpc0Z1bGxzY3JlZW4iLCJkaXNhYmxlRnVsbHNjcmVlbiIsImVuYWJsZUZ1bGxzY3JlZW4iLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIiwiZXhpdEZ1bGxzY3JlZW4iLCJ3ZWJraXRFeGl0RnVsbHNjcmVlbiIsImVsIiwidG9nZ2xlIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsInVwbGF5ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsInVwbGF5ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0IiwiZHJhZ19kcm9wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJkcmFnX2Ryb3BfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0IiwianNfc2ltcGxlX3RvYXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJqc19zaW1wbGVfdG9hc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0Iiwic3BlY3RydW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsInNwZWN0cnVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCIsIl9mdWxsc2NyZWVuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJmaWxlbmFtZSIsImEiLCJzZXQiLCJ0b2FzdER1cmF0aW9uIiwic3BlY3RydW0iLCJwbGF5ZXIiLCJzaG93VG9hc3QiLCJtZXNzYWdlIiwiZGVidWciLCJvbiIsInVzZUtleWJvYXJkIiwiRmlsZVJlYWRlciIsImRhdGEiLCJ0YXJnZXQiLCJyZXN1bHQiLCJlcnJvciIsInJlYWRBc0FycmF5QnVmZmVyIiwibGlzdCIsImRlcHRoIiwiSW5maW5pdHkiLCJfZmxhdHRlbiIsInJlZHVjZSIsImFjYyIsImlzQXJyYXkiLCJwcm9jZXNzIiwidGFza3MiLCJwZW5kaW5nIiwiaXNTeW5jIiwiZG9uZSIsImVuZCIsIm5leHRUaWNrIiwiZWFjaCIsImZvckVhY2giLCJ0YXNrIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJhcmdzIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFB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OFAsUUFZQSxTQUFBQyxLQTVCQTVCLEVBQUFNLFNBQUEsU0FBQVMsR0FDQSxJQUFBYyxFQUFBLElBQUF2SixNQUFBL0UsVUFBQTBCLE9BQUEsR0FDQSxHQUFBMUIsVUFBQTBCLE9BQUEsRUFDQSxRQUFBM0YsRUFBQSxFQUF1QkEsRUFBQWlFLFVBQUEwQixPQUFzQjNGLElBQzdDdVMsRUFBQXZTLEVBQUEsR0FBQWlFLFVBQUFqRSxHQUdBMlIsRUFBQXZHLEtBQUEsSUFBQWdILEVBQUFYLEVBQUFjLElBQ0EsSUFBQVosRUFBQWhNLFFBQUFpTSxHQUNBSixFQUFBTyxJQVNBSyxFQUFBeFEsVUFBQXFRLElBQUEsV0FDQTFQLEtBQUFrUCxJQUFBck4sTUFBQSxLQUFBN0IsS0FBQThQLFFBRUEzQixFQUFBOEIsTUFBQSxVQUNBOUIsRUFBQStCLFNBQUEsRUFDQS9CLEVBQUFnQyxJQUFBLEdBQ0FoQyxFQUFBaUMsS0FBQSxHQUNBakMsRUFBQWtDLFFBQUEsR0FDQWxDLEVBQUFtQyxTQUFBLEdBSUFuQyxFQUFBZixHQUFBMkMsRUFDQTVCLEVBQUFvQyxZQUFBUixFQUNBNUIsRUFBQXFDLEtBQUFULEVBQ0E1QixFQUFBc0MsSUFBQVYsRUFDQTVCLEVBQUF1QyxlQUFBWCxFQUNBNUIsRUFBQXdDLG1CQUFBWixFQUNBNUIsRUFBQXlDLEtBQUFiLEVBQ0E1QixFQUFBMEMsZ0JBQUFkLEVBQ0E1QixFQUFBMkMsb0JBQUFmLEVBRUE1QixFQUFBekwsVUFBQSxTQUFBMUUsR0FBcUMsVUFFckNtUSxFQUFBNEMsUUFBQSxTQUFBL1MsR0FDQSxVQUFBOEgsTUFBQSxxQ0FHQXFJLEVBQUE2QyxJQUFBLFdBQTJCLFdBQzNCN0MsRUFBQThDLE1BQUEsU0FBQUMsR0FDQSxVQUFBcEwsTUFBQSxtQ0FFQXFJLEVBQUFnRCxNQUFBLFdBQTRCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuc2ltcGxlVG9hc3Q9ZSgpOnQuc2ltcGxlVG9hc3Q9ZSgpfSh3aW5kb3csZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9e307ZnVuY3Rpb24gbihvKXtpZihlW29dKXJldHVybiBlW29dLmV4cG9ydHM7dmFyIGk9ZVtvXT17aTpvLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbb10uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsbiksaS5sPSEwLGkuZXhwb3J0c31yZXR1cm4gbi5tPXQsbi5jPWUsbi5kPWZ1bmN0aW9uKHQsZSxvKXtuLm8odCxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om99KX0sbi5yPWZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiLi9kaXN0L1wiLG4obi5zPTApfShbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPXtjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudCxlPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG49dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG89dGhpcy56SW5kZXh8fDFlMztuLmlubmVySFRNTD0nXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvYXN0LWNvbnRhaW5lclwiXFxuICAgICAgICAgICAgICAgIHN0eWxlPVwicG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHotaW5kZXg6ICcrbysnOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNSk7IGRpc3BsYXk6IG5vbmVcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvYXN0LWNvbnRlbnQtY29udGFpbmVyXCJcXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyB0b3A6IDUwJTsgbGVmdDogNTAlOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcIlxcbiAgICAgICAgICAgICAgICA+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwidG9hc3RDb250ZW50XCIgY2xhc3M9XCJ0b2FzdC1jb250ZW50XCIgc3R5bGU9XCJwYWRkaW5nOiA0cHggMTBweDsgLXdlYmtpdC10cmFuc2l0aW9uOiAtd2Via2l0LXRyYW5zZm9ybSA1MDBtcyBlYXNlLW91dCwgb3BhY2l0eSA1MDBtcyBlYXNlLW91dDsgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDUwMG1zIGVhc2Utb3V0LCBvcGFjaXR5IDUwMG1zIGVhc2Utb3V0OyBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyBib3JkZXItcmFkaXVzOiA0cHg7IGNvbG9yOiAjZmZmO1wiXFxuICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgJyx0aGlzLnRvYXN0PW4uY2hpbGRyZW5bMF0sZS5hcHBlbmRDaGlsZCh0aGlzLnRvYXN0KSx0LmJvZHkuYXBwZW5kQ2hpbGQoZSl9LHNldFpJbmRleDpmdW5jdGlvbih0KXt0aGlzLnpJbmRleD10LHRoaXMudG9hc3QmJih0aGlzLnRvYXN0LnN0eWxlLnpJbmRleD10KX0sc2hvdzpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy50b2FzdHx8dGhpcy5jcmVhdGUoKTt2YXIgbz10aGlzLnRvYXN0LGk9by5vd25lckRvY3VtZW50LHM9aS5nZXRFbGVtZW50QnlJZChcInRvYXN0Q29udGVudFwiKTtzLmlubmVySFRNTD1cIlwiLHMuYXBwZW5kQ2hpbGQoaS5jcmVhdGVUZXh0Tm9kZSh0KSksdGhpcy5wbGF5U2hvd0FuaW0ocyksby5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG4uaGlkZSgpfSxlfHwyZTMpfSxwbGF5U2hvd0FuaW06ZnVuY3Rpb24odCl7dC5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGVZKC00MHB4KVwiLHQuc3R5bGUud2Via2l0VHJhbnNmb3JtPVwidHJhbnNsYXRlWSgtNDBweClcIix0LnN0eWxlLm9wYWNpdHk9MCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGVZKDBweClcIix0LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInRyYW5zbGF0ZVkoMHB4KVwiLHQuc3R5bGUub3BhY2l0eT0xfSl9LGhpZGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy50b2FzdC5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9hc3RDb250ZW50XCIpO3RoaXMucGxheUhpZGVBbmltKGUpO3ZhciBuPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCJpbiBhZnRlciBhbmltXCIpLHQudG9hc3Quc3R5bGUuZGlzcGxheT1cIm5vbmVcIn07ZS5zdHlsZS50cmFuc2l0aW9uP3RoaXMuYWRkT25jZUV2ZW50KGUsXCJ0cmFuc2l0aW9uZW5kXCIsbik6ZS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uP3RoaXMuYWRkT25jZUV2ZW50KGUsXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsbik6bigpfSxhZGRPbmNlRXZlbnQ6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMsaT1hcmd1bWVudHM7dC5hZGRFdmVudExpc3RlbmVyKGUsZnVuY3Rpb24gcygpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHMpLG4uYXBwbHkobyxpKX0pfSxwbGF5SGlkZUFuaW06ZnVuY3Rpb24odCl7dC5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGVZKDEwcHgpXCIsdC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09XCJ0cmFuc2xhdGVZKDEwcHgpXCIsdC5zdHlsZS5vcGFjaXR5PTB9fTtlLmRlZmF1bHQ9b31dKX0pOyIsIm1vZHVsZS5leHBvcnRzID0gY2xhc3MgUGxheWVyIHtcbiAgY29uc3RydWN0b3IgKHNyYywgZGVidWdTdGF0ZSA9IGZhbHNlKSB7XG4gICAgdGhpcy5zcmMgPSBzcmNcbiAgICB0aGlzLmNvbnRleHQgPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKVxuICAgIHRoaXMubG9hZGVkID0gZmFsc2VcbiAgICB0aGlzLmJ1ZmZlciA9IG51bGxcbiAgICB0aGlzLnNvdXJjZSA9IG51bGxcbiAgICB0aGlzLmRlYnVnU3RhdGUgPSBkZWJ1Z1N0YXRlXG4gICAgdGhpcy5zdGFydGVkQXQgPSAwXG4gICAgdGhpcy5vZmZzZXQgPSAwXG4gICAgdGhpcy5sb29wU3RhdGUgPSBmYWxzZVxuICAgIHRoaXMubGlzdGVuZXJzID0ge31cbiAgICB0aGlzLm93bkxpc3RlbmVycyA9IHt9XG4gICAgdGhpcy5wbGF5aW5nID0gZmFsc2VcbiAgICB0aGlzLm93bkV2ZW50cyA9IFsncGxheScsICdzdG9wJywgJ3BhdXNlJywgJ2ZvcndhcmQnLCAncmV3aW5kJywgJ2xvYWQnLCAnbG9hZGVkJ11cblxuICAgIHRoaXMuaW5pdFNvdXJjZSgpXG4gIH1cblxuICBpbml0U291cmNlICgpIHtcbiAgICB0aGlzLnNvdXJjZSA9IHRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKVxuICAgIHRoaXMuc291cmNlLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKVxuXG4gICAgLy8gQWRkIHNldCBldmVudCBsaXN0ZW5lcnMgdG8gbmV3IHNvdXJjZS5cbiAgICBjb25zdCBldmVudHMgPSBPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycylcbiAgICBpZiAoIWV2ZW50cy5sZW5ndGgpIHJldHVyblxuICAgIGV2ZW50cy5tYXAoZXZlbnROYW1lID0+IHtcbiAgICAgIHRoaXMubG9nKGBSZS1hZGQgZXZlbnQ6ICR7ZXZlbnROYW1lfWApXG4gICAgICB0aGlzLnNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSlcbiAgICB9KVxuICB9XG5cbiAgY2xlYXJTb3VyY2UgKCkge1xuICAgIGlmICghdGhpcy5zb3VyY2UpIHJldHVyblxuICAgIGlmICh0aGlzLnBsYXlpbmcpIHRoaXMuc291cmNlLnN0b3AoKVxuICAgIHRoaXMuc291cmNlLmRpc2Nvbm5lY3QoKVxuICAgIHRoaXMuaW5pdFNvdXJjZSgpXG4gIH1cblxuICBzdG9wICgpIHtcbiAgICB0aGlzLmNsZWFyU291cmNlKClcbiAgICB0aGlzLnN0YXJ0ZWRBdCA9IDBcbiAgICB0aGlzLm9mZnNldCA9IDBcbiAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZVxuICAgIHRoaXMubG9nKCdTdG9wcGVkLicpXG4gICAgaWYgKHR5cGVvZiB0aGlzLm93bkxpc3RlbmVycy5zdG9wID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm93bkxpc3RlbmVycy5zdG9wKClcbiAgICB9XG4gIH1cblxuICBsb2FkIChzcmMpIHtcbiAgICBzcmMgPSBzcmMgfHwgdGhpcy5zcmNcbiAgICB0aGlzLmxvZygnTG9hZGluZycsIHNyYylcbiAgICBpZiAodHlwZW9mIHRoaXMub3duTGlzdGVuZXJzLmxvYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3duTGlzdGVuZXJzLmxvYWQoc3JjKVxuICAgIH1cbiAgICBpZiAodGhpcy5sb2FkZWQpIHtcbiAgICAgIHRoaXMuY2xlYXJTb3VyY2UoKVxuICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZVxuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc3JjICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5mZXRjaGVyID0gdGhpcy5jb250ZXh0LmRlY29kZUF1ZGlvRGF0YShzcmMpLnRoZW4oYXVkaW9CdWZmZXIgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWVcbiAgICAgICAgdGhpcy5idWZmZXIgPSBhdWRpb0J1ZmZlclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3duTGlzdGVuZXJzLmxvYWRlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3duTGlzdGVuZXJzLmxvYWRlZCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHRoaXMuZmV0Y2hlciA9IHdpbmRvd1xuICAgICAgLmZldGNoKHNyYywgeyBtZXRob2Q6ICdHRVQnLCBtb2RlOiAnbm8tY29ycycgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXG4gICAgICAudGhlbihhcnJheUJ1ZmZlciA9PiB0aGlzLmNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKSlcbiAgICAgIC50aGVuKGF1ZGlvQnVmZmVyID0+IHtcbiAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuYnVmZmVyID0gYXVkaW9CdWZmZXJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm93bkxpc3RlbmVycy5sb2FkZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm93bkxpc3RlbmVycy5sb2FkZWQoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBnZXRQbGF5VGltZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSAtIHRoaXMuc3RhcnRlZEF0ICsgdGhpcy5vZmZzZXRcbiAgfVxuXG4gIHBsYXkgKG9mZnNldCkge1xuICAgIGlmICh0aGlzLmNvbnRleHQuc3RhdGUgPT09ICdzdXNwZW5kZWQnKSB7XG4gICAgICB0aGlzLmNvbnRleHQucmVzdW1lKClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghdGhpcy5sb2FkZWQpIHtcbiAgICAgIHRoaXMubG9nKCdXYWl0aW5nIGZvciBidWZmZXIgdG8gbG9hZC4uLicpXG4gICAgICB0aGlzLmZldGNoZXIudGhlbigoKSA9PiB0aGlzLnBsYXkoKSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLnNvdXJjZS5idWZmZXIpIHJldHVyblxuXG4gICAgdGhpcy5zb3VyY2UuYnVmZmVyID0gdGhpcy5idWZmZXJcbiAgICB0aGlzLnNvdXJjZS5sb29wRW5kID0gdGhpcy5idWZmZXIuZHVyYXRpb25cbiAgICB0aGlzLnNvdXJjZS5sb29wID0gdGhpcy5sb29wU3RhdGVcbiAgICB0aGlzLnN0YXJ0ZWRBdCA9IHRoaXMuY29udGV4dC5jdXJyZW50VGltZVxuICAgIHRoaXMuc291cmNlLnN0YXJ0KDAsIG9mZnNldClcbiAgICB0aGlzLnBsYXlpbmcgPSB0cnVlXG4gICAgdGhpcy5zb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoKSA9PiB0aGlzLnN0b3AoKSkgLy8gU28gd2UgY2FuIHJlc3RhcnQgcGxheWJhY2suXG4gICAgdGhpcy5sb2coJ1BsYXlpbmcuLi4nKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vd25MaXN0ZW5lcnMucGxheSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vd25MaXN0ZW5lcnMucGxheSgpXG4gICAgfVxuICB9XG5cbiAgcGF1c2UgKCkge1xuICAgIHRoaXMuY29udGV4dC5zdXNwZW5kKClcbiAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZVxuICAgIHRoaXMubG9nKCdQYXVzZWQuJylcbiAgICBpZiAodHlwZW9mIHRoaXMub3duTGlzdGVuZXJzLnBhdXNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm93bkxpc3RlbmVycy5wYXVzZSgpXG4gICAgfVxuICB9XG5cbiAgbG9vcCAobG9vcFN0YXRlKSB7XG4gICAgdGhpcy5sb29wU3RhdGUgPSBsb29wU3RhdGVcbiAgICB0aGlzLmxvZygnTG9vcDonLCBsb29wU3RhdGUgPyAnT04nIDogJ09GRicpXG4gICAgdGhpcy5zb3VyY2UubG9vcCA9IGxvb3BTdGF0ZVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICB0b2dnbGVMb29wICgpIHtcbiAgICB0aGlzLmxvb3BTdGF0ZSA9ICF0aGlzLmxvb3BTdGF0ZVxuICAgIHRoaXMubG9nKCdUb2dnbGUgbG9vcDonLCB0aGlzLmxvb3BTdGF0ZSA/ICdPTicgOiAnT0ZGJylcbiAgICB0aGlzLnNvdXJjZS5sb29wID0gdGhpcy5sb29wU3RhdGVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgZm9yd2FyZCAoc2Vjb25kcyA9IDUpIHtcbiAgICB0aGlzLmxvZyhgPj4gRm9yd2FyZCAke3NlY29uZHN9IHNlY29uZHNgKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vd25MaXN0ZW5lcnMuZm9yd2FyZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vd25MaXN0ZW5lcnMuZm9yd2FyZChzZWNvbmRzKVxuICAgIH1cbiAgICBjb25zdCBwbGF5VGltZSA9IHRoaXMuZ2V0UGxheVRpbWUoKVxuICAgIHRoaXMub2Zmc2V0ID0gcGxheVRpbWUgKyBzZWNvbmRzXG4gICAgaWYgKHRoaXMub2Zmc2V0ID4gdGhpcy5idWZmZXIuZHVyYXRpb24pIHRoaXMub2Zmc2V0ID0gdGhpcy5idWZmZXIuZHVyYXRpb24gLSBzZWNvbmRzXG4gICAgdGhpcy5sb2coJ1BsYXkgQCcsIHRoaXMub2Zmc2V0KVxuICAgIHRoaXMuY2xlYXJTb3VyY2UoKVxuICAgIHRoaXMucGxheSh0aGlzLm9mZnNldClcbiAgfVxuXG4gIHJld2luZCAoc2Vjb25kcyA9IDUpIHtcbiAgICB0aGlzLmxvZyhgPDwgUmV3aW5kICR7c2Vjb25kc30gc2Vjb25kc2ApXG4gICAgaWYgKHR5cGVvZiB0aGlzLm93bkxpc3RlbmVycy5yZXdpbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3duTGlzdGVuZXJzLnJld2luZChzZWNvbmRzKVxuICAgIH1cbiAgICBjb25zdCBwbGF5VGltZSA9IHRoaXMuZ2V0UGxheVRpbWUoKVxuICAgIHRoaXMub2Zmc2V0ID0gcGxheVRpbWUgLSBzZWNvbmRzXG4gICAgaWYgKHRoaXMub2Zmc2V0IDwgMCkgdGhpcy5vZmZzZXQgPSAwXG4gICAgdGhpcy5sb2coJ1BsYXkgQCcsIHRoaXMub2Zmc2V0KVxuICAgIHRoaXMuY2xlYXJTb3VyY2UoKVxuICAgIHRoaXMucGxheSh0aGlzLm9mZnNldClcbiAgfVxuXG4gIHVzZUtleWJvYXJkIChzZWxlY3Rvcikge1xuICAgIHRoaXMubG9nKCdVc2luZyBrZXlib2FyZC4nKVxuICAgIGxldCAkZWwgPSBkb2N1bWVudC5ib2R5XG4gICAgaWYgKHNlbGVjdG9yKSAkZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuICAgICRlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKHsga2V5IH0pID0+IHtcbiAgICAgIGNvbnN0IGtleU1hcCA9IHtcbiAgICAgICAgQXJyb3dSaWdodDogKCkgPT4gdGhpcy5mb3J3YXJkKCksXG4gICAgICAgIEFycm93TGVmdDogKCkgPT4gdGhpcy5yZXdpbmQoKSxcbiAgICAgICAgejogKCkgPT4gdGhpcy5zdG9wKCksXG4gICAgICAgIHg6ICgpID0+IHRoaXMucGxheSgpLFxuICAgICAgICBjOiAoKSA9PiB0aGlzLnBhdXNlKCksXG4gICAgICAgIGw6ICgpID0+IHRoaXMudG9nZ2xlTG9vcCgpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1ldGhvZCA9IGtleU1hcFtrZXldXG4gICAgICBpZiAobWV0aG9kKSBtZXRob2QoKVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGlzT3duRXZlbnQgKGV2ZW50TmFtZSkge1xuICAgIHJldHVybiB0aGlzLm93bkV2ZW50cy5pbmNsdWRlcyhldmVudE5hbWUpXG4gIH1cblxuICBvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmlzT3duRXZlbnQoZXZlbnROYW1lKSkge1xuICAgICAgdGhpcy5vd25MaXN0ZW5lcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHRoaXMuc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaylcbiAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0gY2FsbGJhY2tcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgZGVidWcgKGRlYnVnU3RhdGUpIHtcbiAgICB0aGlzLmRlYnVnU3RhdGUgPSBkZWJ1Z1N0YXRlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGxvZyAoKSB7XG4gICAgaWYgKCF0aGlzLmRlYnVnU3RhdGUpIHJldHVyblxuICAgIGNvbnNvbGUubG9nKCdQbGF5ZXI6JywgLi4uYXJndW1lbnRzKVxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGRyYWdEcm9wXG5cbnZhciBmbGF0dGVuID0gcmVxdWlyZSgnZmxhdHRlbicpXG52YXIgcGFyYWxsZWwgPSByZXF1aXJlKCdydW4tcGFyYWxsZWwnKVxuXG5mdW5jdGlvbiBkcmFnRHJvcCAoZWxlbSwgbGlzdGVuZXJzKSB7XG4gIGlmICh0eXBlb2YgZWxlbSA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgc2VsZWN0b3IgPSBlbGVtXG4gICAgZWxlbSA9IHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW0pXG4gICAgaWYgKCFlbGVtKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIHNlbGVjdG9yICsgJ1wiIGRvZXMgbm90IG1hdGNoIGFueSBIVE1MIGVsZW1lbnRzJylcbiAgICB9XG4gIH1cblxuICBpZiAoIWVsZW0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGVsZW0gKyAnXCIgaXMgbm90IGEgdmFsaWQgSFRNTCBlbGVtZW50JylcbiAgfVxuXG4gIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbGlzdGVuZXJzID0geyBvbkRyb3A6IGxpc3RlbmVycyB9XG4gIH1cblxuICB2YXIgdGltZW91dFxuXG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgb25EcmFnRW50ZXIsIGZhbHNlKVxuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgb25EcmFnT3ZlciwgZmFsc2UpXG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgb25EcmFnTGVhdmUsIGZhbHNlKVxuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBvbkRyb3AsIGZhbHNlKVxuXG4gIC8vIEZ1bmN0aW9uIHRvIHJlbW92ZSBkcmFnLWRyb3AgbGlzdGVuZXJzXG4gIHJldHVybiBmdW5jdGlvbiByZW1vdmUgKCkge1xuICAgIHJlbW92ZURyYWdDbGFzcygpXG4gICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBvbkRyYWdFbnRlciwgZmFsc2UpXG4gICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIG9uRHJhZ092ZXIsIGZhbHNlKVxuICAgIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgb25EcmFnTGVhdmUsIGZhbHNlKVxuICAgIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIG9uRHJvcCwgZmFsc2UpXG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWdFbnRlciAoZSkge1xuICAgIGlmIChsaXN0ZW5lcnMub25EcmFnRW50ZXIpIHtcbiAgICAgIGxpc3RlbmVycy5vbkRyYWdFbnRlcihlKVxuICAgIH1cblxuICAgIC8vIFByZXZlbnQgZXZlbnRcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWdPdmVyIChlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgaWYgKGxpc3RlbmVycy5vbkRyYWdPdmVyKSB7XG4gICAgICBsaXN0ZW5lcnMub25EcmFnT3ZlcihlKVxuICAgIH1cblxuICAgIGlmIChlLmRhdGFUcmFuc2Zlci5pdGVtcykge1xuICAgICAgLy8gT25seSBhZGQgXCJkcmFnXCIgY2xhc3Mgd2hlbiBgaXRlbXNgIGNvbnRhaW5zIGl0ZW1zIHRoYXQgYXJlIGFibGUgdG8gYmVcbiAgICAgIC8vIGhhbmRsZWQgYnkgdGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzIChmaWxlcyB2cy4gdGV4dClcbiAgICAgIHZhciBpdGVtcyA9IEFycmF5LmZyb20oZS5kYXRhVHJhbnNmZXIuaXRlbXMpXG4gICAgICB2YXIgZmlsZUl0ZW1zID0gaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLmtpbmQgPT09ICdmaWxlJyB9KVxuICAgICAgdmFyIHRleHRJdGVtcyA9IGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5raW5kID09PSAnc3RyaW5nJyB9KVxuXG4gICAgICBpZiAoZmlsZUl0ZW1zLmxlbmd0aCA9PT0gMCAmJiAhbGlzdGVuZXJzLm9uRHJvcFRleHQpIHJldHVyblxuICAgICAgaWYgKHRleHRJdGVtcy5sZW5ndGggPT09IDAgJiYgIWxpc3RlbmVycy5vbkRyb3ApIHJldHVyblxuICAgICAgaWYgKGZpbGVJdGVtcy5sZW5ndGggPT09IDAgJiYgdGV4dEl0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG4gICAgfVxuXG4gICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdkcmFnJylcbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcblxuICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSdcblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnTGVhdmUgKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAobGlzdGVuZXJzLm9uRHJhZ0xlYXZlKSB7XG4gICAgICBsaXN0ZW5lcnMub25EcmFnTGVhdmUoZSlcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChyZW1vdmVEcmFnQ2xhc3MsIDUwKVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiBvbkRyb3AgKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAobGlzdGVuZXJzLm9uRHJhZ0xlYXZlKSB7XG4gICAgICBsaXN0ZW5lcnMub25EcmFnTGVhdmUoZSlcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICByZW1vdmVEcmFnQ2xhc3MoKVxuXG4gICAgdmFyIHBvcyA9IHtcbiAgICAgIHg6IGUuY2xpZW50WCxcbiAgICAgIHk6IGUuY2xpZW50WVxuICAgIH1cblxuICAgIC8vIHRleHQgZHJvcCBzdXBwb3J0XG4gICAgdmFyIHRleHQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0JylcbiAgICBpZiAodGV4dCAmJiBsaXN0ZW5lcnMub25Ecm9wVGV4dCkge1xuICAgICAgbGlzdGVuZXJzLm9uRHJvcFRleHQodGV4dCwgcG9zKVxuICAgIH1cblxuICAgIC8vIEZpbGUgZHJvcCBzdXBwb3J0LiBUaGUgYGRhdGFUcmFuc2Zlci5pdGVtc2AgQVBJIHN1cHBvcnRzIGRpcmVjdG9yaWVzLCBzbyB3ZVxuICAgIC8vIHVzZSBpdCBpbnN0ZWFkIG9mIGBkYXRhVHJhbnNmZXIuZmlsZXNgLCBldmVuIHRob3VnaCBpdCdzIG11Y2ggbW9yZVxuICAgIC8vIGNvbXBsaWNhdGVkIHRvIHVzZS5cbiAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvZHJhZy1kcm9wL2lzc3Vlcy8zOVxuICAgIGlmIChsaXN0ZW5lcnMub25Ecm9wICYmIGUuZGF0YVRyYW5zZmVyLml0ZW1zKSB7XG4gICAgICB2YXIgZmlsZUxpc3QgPSBlLmRhdGFUcmFuc2Zlci5maWxlc1xuXG4gICAgICAvLyBIYW5kbGUgZGlyZWN0b3JpZXMgaW4gQ2hyb21lIHVzaW5nIHRoZSBwcm9wcmlldGFyeSBGaWxlU3lzdGVtIEFQSVxuICAgICAgdmFyIGl0ZW1zID0gQXJyYXkuZnJvbShlLmRhdGFUcmFuc2Zlci5pdGVtcykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmtpbmQgPT09ICdmaWxlJ1xuICAgICAgfSlcblxuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgICAgIHBhcmFsbGVsKGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgcHJvY2Vzc0VudHJ5KGl0ZW0ud2Via2l0R2V0QXNFbnRyeSgpLCBjYilcbiAgICAgICAgfVxuICAgICAgfSksIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICAgICAgLy8gVGhpcyBjYXRjaGVzIHBlcm1pc3Npb24gZXJyb3JzIHdpdGggZmlsZTovLyBpbiBDaHJvbWUuIFRoaXMgc2hvdWxkIG5ldmVyXG4gICAgICAgIC8vIHRocm93IGluIHByb2R1Y3Rpb24gY29kZSwgc28gdGhlIHVzZXIgZG9lcyBub3QgbmVlZCB0byB1c2UgdHJ5LWNhdGNoLlxuICAgICAgICBpZiAoZXJyKSB0aHJvdyBlcnJcblxuICAgICAgICB2YXIgZW50cmllcyA9IGZsYXR0ZW4ocmVzdWx0cylcblxuICAgICAgICB2YXIgZmlsZXMgPSBlbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLmlzRmlsZVxuICAgICAgICB9KVxuXG4gICAgICAgIHZhciBkaXJlY3RvcmllcyA9IGVudHJpZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0uaXNEaXJlY3RvcnlcbiAgICAgICAgfSlcblxuICAgICAgICBsaXN0ZW5lcnMub25Ecm9wKGZpbGVzLCBwb3MsIGZpbGVMaXN0LCBkaXJlY3RvcmllcylcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVEcmFnQ2xhc3MgKCkge1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnZHJhZycpXG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0VudHJ5IChlbnRyeSwgY2IpIHtcbiAgdmFyIGVudHJpZXMgPSBbXVxuXG4gIGlmIChlbnRyeS5pc0ZpbGUpIHtcbiAgICBlbnRyeS5maWxlKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICBmaWxlLmZ1bGxQYXRoID0gZW50cnkuZnVsbFBhdGggLy8gcHJlc2VydmUgcGF0aGluZyBmb3IgY29uc3VtZXJcbiAgICAgIGZpbGUuaXNGaWxlID0gdHJ1ZVxuICAgICAgZmlsZS5pc0RpcmVjdG9yeSA9IGZhbHNlXG4gICAgICBjYihudWxsLCBmaWxlKVxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNiKGVycilcbiAgICB9KVxuICB9IGVsc2UgaWYgKGVudHJ5LmlzRGlyZWN0b3J5KSB7XG4gICAgdmFyIHJlYWRlciA9IGVudHJ5LmNyZWF0ZVJlYWRlcigpXG4gICAgcmVhZEVudHJpZXMoKVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEVudHJpZXMgKCkge1xuICAgIHJlYWRlci5yZWFkRW50cmllcyhmdW5jdGlvbiAoZW50cmllc18pIHtcbiAgICAgIGlmIChlbnRyaWVzXy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGVudHJpZXMgPSBlbnRyaWVzLmNvbmNhdChBcnJheS5mcm9tKGVudHJpZXNfKSlcbiAgICAgICAgcmVhZEVudHJpZXMoKSAvLyBjb250aW51ZSByZWFkaW5nIGVudHJpZXMgdW50aWwgYHJlYWRFbnRyaWVzYCByZXR1cm5zIG5vIG1vcmVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmVFbnRyaWVzKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZG9uZUVudHJpZXMgKCkge1xuICAgIHBhcmFsbGVsKGVudHJpZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjYikge1xuICAgICAgICBwcm9jZXNzRW50cnkoZW50cnksIGNiKVxuICAgICAgfVxuICAgIH0pLCBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNiKGVycilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgZnVsbFBhdGg6IGVudHJ5LmZ1bGxQYXRoLFxuICAgICAgICAgIG5hbWU6IGVudHJ5Lm5hbWUsXG4gICAgICAgICAgaXNGaWxlOiBmYWxzZSxcbiAgICAgICAgICBpc0RpcmVjdG9yeTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICBjYihudWxsLCByZXN1bHRzKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gY2xhc3MgU3BlY3RydW0ge1xuICBjb25zdHJ1Y3RvciAoeyBhdWRpb0NvbnRleHQsIGF1ZGlvQnVmZmVyLCBhdWRpb1NvdXJjZSwgY2FudmFzIH0gPSB7fSkge1xuICAgIGlmICh0eXBlb2YgY2FudmFzID09PSAnc3RyaW5nJykgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FudmFzKVxuICAgIGlmICghY2FudmFzKSB7XG4gICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpXG4gICAgfVxuICAgIHRoaXMuJGNhbnZhcyA9IGNhbnZhc1xuICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aFxuICAgIHRoaXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHRcbiAgICB0aGlzLiRjYW52YXMud2lkdGggPSB0aGlzLndpZHRoXG4gICAgdGhpcy4kY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0XG4gICAgdGhpcy5jYW52YXNDb250ZXh0ID0gdGhpcy4kY2FudmFzLmdldENvbnRleHQoJzJkJylcblxuICAgIGlmIChhdWRpb0NvbnRleHQgJiYgYXVkaW9CdWZmZXIgJiYgYXVkaW9Tb3VyY2UpIHRoaXMuc2V0QW5hbHl6ZXIoeyBhdWRpb0NvbnRleHQsIGF1ZGlvQnVmZmVyLCBhdWRpb1NvdXJjZSB9KVxuICB9XG5cbiAgc2V0QW5hbHl6ZXIgKHsgYXVkaW9Db250ZXh0LCBhdWRpb0J1ZmZlciwgYXVkaW9Tb3VyY2UgfSkge1xuICAgIGNvbnNvbGUubG9nKCdTRVQgQU5BTFlaRVInKVxuICAgIHRoaXMuYW5hbHlzZXIgPSBhdWRpb0NvbnRleHQuY3JlYXRlQW5hbHlzZXIoKVxuICAgIHRoaXMuYW5hbHlzZXIuZmZ0U2l6ZSA9IDIwNDhcbiAgICB0aGlzLmFuYWx5c2VyLm1pbkRlY2liZWxzID0gLTkwXG4gICAgdGhpcy5hbmFseXNlci5tYXhEZWNpYmVscyA9IC0xMFxuICAgIHRoaXMuYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC44NVxuICAgIHRoaXMuYW5hbHlzZXIuYnVmZmVyID0gYXVkaW9CdWZmZXJcbiAgICBhdWRpb1NvdXJjZS5jb25uZWN0KHRoaXMuYW5hbHlzZXIpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgYnVmZmVyTGVuZ3RoID0gdGhpcy5hbmFseXNlci5mZnRTaXplXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyTGVuZ3RoKVxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5yZW5kZXIoKSlcbiAgICB0aGlzLmFuYWx5c2VyLmdldEJ5dGVUaW1lRG9tYWluRGF0YShidWZmZXIpXG4gICAgdGhpcy5jYW52YXNDb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjaydcbiAgICB0aGlzLmNhbnZhc0NvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpXG4gICAgdGhpcy5jYW52YXNDb250ZXh0LmxpbmVXaWR0aCA9IDJcbiAgICB0aGlzLmNhbnZhc0NvbnRleHQuc3Ryb2tlU3R5bGUgPSAneWVsbG93J1xuICAgIHRoaXMuY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKVxuXG4gICAgY29uc3Qgc2xpY2VXaWR0aCA9ICh0aGlzLndpZHRoICogMS4wKSAvIGJ1ZmZlckxlbmd0aFxuICAgIGxldCB4ID0gMFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJMZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdiA9IGJ1ZmZlcltpXSAvIDEyOC4wXG4gICAgICBjb25zdCB5ID0gKHYgKiB0aGlzLmhlaWdodCkgLyAyXG5cbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIHRoaXMuY2FudmFzQ29udGV4dC5tb3ZlVG8oeCwgeSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2FudmFzQ29udGV4dC5saW5lVG8oeCwgeSlcbiAgICAgIH1cblxuICAgICAgeCArPSBzbGljZVdpZHRoXG4gICAgfVxuXG4gICAgdGhpcy5jYW52YXNDb250ZXh0LmxpbmVUbyh0aGlzLiRjYW52YXMud2lkdGgsIHRoaXMuJGNhbnZhcy5oZWlnaHQgLyAyKVxuICAgIHRoaXMuY2FudmFzQ29udGV4dC5zdHJva2UoKVxuICB9XG59XG4iLCJjbGFzcyBGdWxsc2NyZWVuIHtcbiAgaXNGdWxsc2NyZWVuICgpIHtcbiAgICB0aGlzLmZ1bGxzY3JlZW5FbGVtZW50ID0gZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnRcbiAgICBpZiAodGhpcy5mdWxsc2NyZWVuRWxlbWVudCA9PT0gdW5kZWZpbmVkKSB0aGlzLmZ1bGxzY3JlZW5FbGVtZW50ID0gZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnRcbiAgICByZXR1cm4gISF0aGlzLmZ1bGxzY3JlZW5FbGVtZW50XG4gIH1cblxuICB0b2dnbGUgKCkge1xuICAgIGlmICh0aGlzLmlzRnVsbHNjcmVlbigpKSByZXR1cm4gdGhpcy5kaXNhYmxlRnVsbHNjcmVlbigpXG4gICAgdGhpcy5lbmFibGVGdWxsc2NyZWVuKClcbiAgfVxuXG4gIGVuYWJsZUZ1bGxzY3JlZW4gKCkge1xuICAgIGlmIChkb2N1bWVudC5ib2R5LnJlcXVlc3RGdWxsc2NyZWVuKSByZXR1cm4gZG9jdW1lbnQuYm9keS5yZXF1ZXN0RnVsbHNjcmVlbigpXG4gICAgZG9jdW1lbnQuYm9keS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbigpXG4gIH1cblxuICBkaXNhYmxlRnVsbHNjcmVlbiAoKSB7XG4gICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpXG4gICAgZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKVxuICB9XG5cbiAgc2V0IChlbCA9IGRvY3VtZW50KSB7XG4gICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbClcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMudG9nZ2xlKClcbiAgICB9KVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IEZ1bGxzY3JlZW4oKVxuIiwiaW1wb3J0IFBsYXllciBmcm9tICd1cGxheWVyJ1xuaW1wb3J0IGRyYWdEcm9wIGZyb20gJ2RyYWctZHJvcCdcbmltcG9ydCB0b2FzdCBmcm9tICdqcy1zaW1wbGUtdG9hc3QnXG5pbXBvcnQgU3BlY3RydW0gZnJvbSAnc3BlY3RydW0nXG5pbXBvcnQgZnVsbHNjcmVlbiBmcm9tICcuL2Z1bGxzY3JlZW4nXG5mdWxsc2NyZWVuLnNldCgpXG5cbmNvbnNvbGUubG9nKCdUT0FTVCcsIHRvYXN0KVxubGV0IGZpbGVuYW1lXG5sZXQgdGltZW91dFxuY29uc3QgdG9hc3REdXJhdGlvbiA9IDIwMDBcbmNvbnN0IHNwZWN0cnVtID0gbmV3IFNwZWN0cnVtKClcbmNvbnN0IHBsYXllciA9IG5ldyBQbGF5ZXIoJ2h0dHBzOi8vcGxheS1zcGVjdHJ1bS5oZXJva3VhcHAuY29tL2RlcGxveS5tcDMnKVxucGxheWVyXG4gIC5kZWJ1Zyh0cnVlKVxuICAub24oJ3N0b3AnLCAoKSA9PiBzaG93VG9hc3QoJ1N0b3AuJykpXG4gIC5vbigncGF1c2UnLCAoKSA9PiBzaG93VG9hc3QoJ1BhdXNlLicpKVxuICAub24oJ3BsYXknLCAoKSA9PiB7XG4gICAgaWYgKGZpbGVuYW1lKSBzaG93VG9hc3QoYFBsYXlpbmcgJHtmaWxlbmFtZX0uLi5gKVxuICAgIHNwZWN0cnVtXG4gICAgICAuc2V0QW5hbHl6ZXIoeyBhdWRpb0NvbnRleHQ6IHBsYXllci5jb250ZXh0LCBhdWRpb0J1ZmZlcjogcGxheWVyLmJ1ZmZlciwgYXVkaW9Tb3VyY2U6IHBsYXllci5zb3VyY2UgfSlcbiAgICAgIC5yZW5kZXIoKVxuICB9KVxuICAub24oJ2ZvcndhcmQnLCBzZWNvbmRzID0+IHNob3dUb2FzdChgRm9yd2FyZCAke3NlY29uZHN9IHNlY29uZHMuYCkpXG4gIC5vbigncmV3aW5kJywgc2Vjb25kcyA9PiBzaG93VG9hc3QoYFJld2luZCAke3NlY29uZHN9IHNlY29uZHMuYCkpXG4gIC51c2VLZXlib2FyZCgpXG4gIC5sb2FkKClcbiAgLnBsYXkoKVxuc2hvd1RvYXN0KCdEcm9wIGFuIGF1ZGlvIGZpbGUgdG8gc3RhcnQgcGxheWluZyEnKVxuXG5kcmFnRHJvcCgnYm9keScsIGZ1bmN0aW9uIChmaWxlcykge1xuICBjb25zdCBmaWxlID0gZmlsZXNbMF1cbiAgY29uc29sZS5sb2coJ0dPVCBGSUxFOicsIGZpbGUpXG4gIGZpbGVuYW1lID0gZmlsZS5uYW1lXG4gIGNvbnN0IHJlYWRlciA9IG5ldyB3aW5kb3cuRmlsZVJlYWRlcigpXG4gIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IGUudGFyZ2V0LnJlc3VsdFxuICAgIHBsYXllci5sb2FkKGRhdGEpLnBsYXkoKVxuICB9KVxuICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGVSZWFkZXIgZXJyb3InICsgZXJyKVxuICAgIHRvYXN0LnNob3coJ09vcHMhIFNvbWV0aGluZyB3ZW50IHdyb25nIDooJylcbiAgfSlcbiAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpXG59KVxuXG5mdW5jdGlvbiBzaG93VG9hc3QgKG1lc3NhZ2UpIHtcbiAgaWYgKHRvYXN0LnRvYXN0ICYmIHRvYXN0LnRvYXN0LnN0eWxlLmRpc3BsYXkgIT09ICdub25lJykge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHNob3dUb2FzdChtZXNzYWdlLCB0b2FzdER1cmF0aW9uKSwgMTAwKVxuICAgIHJldHVyblxuICB9XG5cbiAgdG9hc3Quc2hvdyhtZXNzYWdlLCB0b2FzdER1cmF0aW9uKVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmbGF0dGVuKGxpc3QsIGRlcHRoKSB7XG4gIGRlcHRoID0gKHR5cGVvZiBkZXB0aCA9PSAnbnVtYmVyJykgPyBkZXB0aCA6IEluZmluaXR5O1xuXG4gIGlmICghZGVwdGgpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgICAgcmV0dXJuIGxpc3QubWFwKGZ1bmN0aW9uKGkpIHsgcmV0dXJuIGk7IH0pO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIHJldHVybiBfZmxhdHRlbihsaXN0LCAxKTtcblxuICBmdW5jdGlvbiBfZmxhdHRlbihsaXN0LCBkKSB7XG4gICAgcmV0dXJuIGxpc3QucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGl0ZW0pIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pICYmIGQgPCBkZXB0aCkge1xuICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChfZmxhdHRlbihpdGVtLCBkICsgMSkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhY2MuY29uY2F0KGl0ZW0pO1xuICAgICAgfVxuICAgIH0sIFtdKTtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcnVuUGFyYWxsZWxcblxuZnVuY3Rpb24gcnVuUGFyYWxsZWwgKHRhc2tzLCBjYikge1xuICB2YXIgcmVzdWx0cywgcGVuZGluZywga2V5c1xuICB2YXIgaXNTeW5jID0gdHJ1ZVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHRhc2tzKSkge1xuICAgIHJlc3VsdHMgPSBbXVxuICAgIHBlbmRpbmcgPSB0YXNrcy5sZW5ndGhcbiAgfSBlbHNlIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXModGFza3MpXG4gICAgcmVzdWx0cyA9IHt9XG4gICAgcGVuZGluZyA9IGtleXMubGVuZ3RoXG4gIH1cblxuICBmdW5jdGlvbiBkb25lIChlcnIpIHtcbiAgICBmdW5jdGlvbiBlbmQgKCkge1xuICAgICAgaWYgKGNiKSBjYihlcnIsIHJlc3VsdHMpXG4gICAgICBjYiA9IG51bGxcbiAgICB9XG4gICAgaWYgKGlzU3luYykgcHJvY2Vzcy5uZXh0VGljayhlbmQpXG4gICAgZWxzZSBlbmQoKVxuICB9XG5cbiAgZnVuY3Rpb24gZWFjaCAoaSwgZXJyLCByZXN1bHQpIHtcbiAgICByZXN1bHRzW2ldID0gcmVzdWx0XG4gICAgaWYgKC0tcGVuZGluZyA9PT0gMCB8fCBlcnIpIHtcbiAgICAgIGRvbmUoZXJyKVxuICAgIH1cbiAgfVxuXG4gIGlmICghcGVuZGluZykge1xuICAgIC8vIGVtcHR5XG4gICAgZG9uZShudWxsKVxuICB9IGVsc2UgaWYgKGtleXMpIHtcbiAgICAvLyBvYmplY3RcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdGFza3Nba2V5XShmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHsgZWFjaChrZXksIGVyciwgcmVzdWx0KSB9KVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgLy8gYXJyYXlcbiAgICB0YXNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0YXNrLCBpKSB7XG4gICAgICB0YXNrKGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkgeyBlYWNoKGksIGVyciwgcmVzdWx0KSB9KVxuICAgIH0pXG4gIH1cblxuICBpc1N5bmMgPSBmYWxzZVxufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=