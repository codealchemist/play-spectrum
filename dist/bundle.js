!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){window,t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./dist/",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={create:function(){var t=document,e=t.createDocumentFragment(),n=t.createElement("div"),o=this.zIndex||1e3;n.innerHTML='\n            <div class="toast-container"\n                style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: '+o+'; background-color: rgba(0,0,0,0.5); display: none">\n                <div class="toast-content-container"\n                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); -webkit-transform: translate(-50%, -50%);"\n                >\n                    <div id="toastContent" class="toast-content" style="padding: 4px 10px; -webkit-transition: -webkit-transform 500ms ease-out, opacity 500ms ease-out; transition: transform 500ms ease-out, opacity 500ms ease-out; background-color: #000; border-radius: 4px; color: #fff;"\n                    ></div>\n                </div>\n            </div>\n        ',this.toast=n.children[0],e.appendChild(this.toast),t.body.appendChild(e)},setZIndex:function(t){this.zIndex=t,this.toast&&(this.toast.style.zIndex=t)},show:function(t,e){var n=this;this.toast||this.create();var o=this.toast,i=o.ownerDocument,r=i.getElementById("toastContent");r.innerHTML="",r.appendChild(i.createTextNode(t)),this.playShowAnim(r),o.style.display="block",setTimeout(function(){return n.hide()},e||2e3)},playShowAnim:function(t){t.style.transform="translateY(-40px)",t.style.webkitTransform="translateY(-40px)",t.style.opacity=0,setTimeout(function(){t.style.transform="translateY(0px)",t.style.webkitTransform="translateY(0px)",t.style.opacity=1})},hide:function(){var t=this,e=this.toast.ownerDocument.getElementById("toastContent");this.playHideAnim(e);var n=function(){console.log("in after anim"),t.toast.style.display="none"};e.style.transition?this.addOnceEvent(e,"transitionend",n):e.style.webkitTransition?this.addOnceEvent(e,"webkitTransitionEnd",n):n()},addOnceEvent:function(t,e,n){var o=this,i=arguments;t.addEventListener(e,function r(){t.removeEventListener(e,r),n.apply(o,i)})},playHideAnim:function(t){t.style.transform="translateY(10px)",t.style.webkitTransform="translateY(10px)",t.style.opacity=0}};e.default=o}])},function(t,e){t.exports=class{constructor(t,e=!1){this.src=t,this.context=new(window.AudioContext||window.webkitAudioContext),this.loaded=!1,this.buffer=null,this.source=null,this.debugState=e,this.startedAt=0,this.offset=0,this.loopState=!1,this.listeners={},this.ownListeners={},this.playing=!1,this.ownEvents=["play","stop","pause","forward","rewind","load","loaded"],this.initSource()}initSource(){this.source=this.context.createBufferSource(),this.source.connect(this.context.destination);const t=Object.keys(this.listeners);t.length&&t.map(t=>{this.log(`Re-add event: ${t}`),this.source.addEventListener(t,this.listeners[t])})}clearSource(){this.source&&(this.playing&&this.source.stop(),this.source.disconnect(),this.initSource())}stop(){this.clearSource(),this.startedAt=0,this.offset=0,this.playing=!1,this.log("Stopped."),"function"==typeof this.ownListeners.stop&&this.ownListeners.stop()}load(t){return t=t||this.src,this.log("Loading",t),"function"==typeof this.ownListeners.load&&this.ownListeners.load(t),this.loaded&&(this.clearSource(),this.loaded=!1),"string"!=typeof t?(this.fetcher=this.context.decodeAudioData(t).then(t=>{this.loaded=!0,this.buffer=t,"function"==typeof this.ownListeners.loaded&&this.ownListeners.loaded()}),this):(this.fetcher=window.fetch(t,{method:"GET",mode:"no-cors"}).then(t=>t.arrayBuffer()).then(t=>this.context.decodeAudioData(t)).then(t=>{this.loaded=!0,this.buffer=t,"function"==typeof this.ownListeners.loaded&&this.ownListeners.loaded()}),this)}getPlayTime(){return this.context.currentTime-this.startedAt+this.offset}play(t){if("suspended"!==this.context.state)return this.loaded?void(this.source.buffer||(this.source.buffer=this.buffer,this.source.loopEnd=this.buffer.duration,this.source.loop=this.loopState,this.startedAt=this.context.currentTime,this.source.start(0,t),this.playing=!0,this.source.addEventListener("ended",()=>this.stop()),this.log("Playing..."),"function"==typeof this.ownListeners.play&&this.ownListeners.play())):(this.log("Waiting for buffer to load..."),void this.fetcher.then(()=>this.play()));this.context.resume()}pause(){this.context.suspend(),this.playing=!1,this.log("Paused."),"function"==typeof this.ownListeners.pause&&this.ownListeners.pause()}loop(t){return this.loopState=t,this.log("Loop:",t?"ON":"OFF"),this.source.loop=t,this}toggleLoop(){return this.loopState=!this.loopState,this.log("Toggle loop:",this.loopState?"ON":"OFF"),this.source.loop=this.loopState,this}forward(t=5){this.log(`>> Forward ${t} seconds`),"function"==typeof this.ownListeners.forward&&this.ownListeners.forward(t);const e=this.getPlayTime();this.offset=e+t,this.offset>this.buffer.duration&&(this.offset=this.buffer.duration-t),this.log("Play @",this.offset),this.clearSource(),this.play(this.offset)}rewind(t=5){this.log(`<< Rewind ${t} seconds`),"function"==typeof this.ownListeners.rewind&&this.ownListeners.rewind(t);const e=this.getPlayTime();this.offset=e-t,this.offset<0&&(this.offset=0),this.log("Play @",this.offset),this.clearSource(),this.play(this.offset)}useKeyboard(t){this.log("Using keyboard.");let e=document.body;return t&&(e=document.querySelector(t)),e.addEventListener("keydown",({key:t})=>{const e={ArrowRight:()=>this.forward(),ArrowLeft:()=>this.rewind(),z:()=>this.stop(),x:()=>this.play(),c:()=>this.pause(),l:()=>this.toggleLoop()}[t];e&&e()}),this}isOwnEvent(t){return this.ownEvents.includes(t)}on(t,e){return this.isOwnEvent(t)?(this.ownListeners[t]=e,this):(this.source.addEventListener(t,e),this.listeners[t]=e,this)}debug(t){return this.debugState=t,this}log(){this.debugState&&console.log("Player:",...arguments)}}},function(t,e,n){t.exports=function(t,e){if("string"==typeof t){var n=t;if(!(t=window.document.querySelector(t)))throw new Error('"'+n+'" does not match any HTML elements')}if(!t)throw new Error('"'+t+'" is not a valid HTML element');"function"==typeof e&&(e={onDrop:e});var s;return t.addEventListener("dragenter",a,!1),t.addEventListener("dragover",u,!1),t.addEventListener("dragleave",c,!1),t.addEventListener("drop",l,!1),function(){f(),t.removeEventListener("dragenter",a,!1),t.removeEventListener("dragover",u,!1),t.removeEventListener("dragleave",c,!1),t.removeEventListener("drop",l,!1)};function a(t){return e.onDragEnter&&e.onDragEnter(t),t.stopPropagation(),t.preventDefault(),!1}function u(n){if(n.stopPropagation(),n.preventDefault(),e.onDragOver&&e.onDragOver(n),n.dataTransfer.items){var o=Array.from(n.dataTransfer.items),i=o.filter(function(t){return"file"===t.kind}),r=o.filter(function(t){return"string"===t.kind});if(0===i.length&&!e.onDropText)return;if(0===r.length&&!e.onDrop)return;if(0===i.length&&0===r.length)return}return t.classList.add("drag"),clearTimeout(s),n.dataTransfer.dropEffect="copy",!1}function c(t){return t.stopPropagation(),t.preventDefault(),e.onDragLeave&&e.onDragLeave(t),clearTimeout(s),s=setTimeout(f,50),!1}function l(t){t.stopPropagation(),t.preventDefault(),e.onDragLeave&&e.onDragLeave(t),clearTimeout(s),f();var n={x:t.clientX,y:t.clientY},a=t.dataTransfer.getData("text");if(a&&e.onDropText&&e.onDropText(a,n),e.onDrop&&t.dataTransfer.items){var u=t.dataTransfer.files,c=Array.from(t.dataTransfer.items).filter(function(t){return"file"===t.kind});if(0===c.length)return;i(c.map(function(t){return function(e){!function(t,e){var n=[];if(t.isFile)t.file(function(n){n.fullPath=t.fullPath,n.isFile=!0,n.isDirectory=!1,e(null,n)},function(t){e(t)});else if(t.isDirectory){var o=t.createReader();!function s(){o.readEntries(function(o){o.length>0?(n=n.concat(Array.from(o)),s()):i(n.map(function(t){return function(e){r(t,e)}}),function(n,o){n?e(n):(o.push({fullPath:t.fullPath,name:t.name,isFile:!1,isDirectory:!0}),e(null,o))})})}()}}(t.webkitGetAsEntry(),e)}}),function(t,i){if(t)throw t;var r=o(i),s=r.filter(function(t){return t.isFile}),a=r.filter(function(t){return t.isDirectory});e.onDrop(s,n,u,a)})}return!1}function f(){t.classList.remove("drag")}};var o=n(6),i=n(7);function r(t,e){var n=[];if(t.isFile){t.file(function(n){n.fullPath=t.fullPath;n.isFile=true;n.isDirectory=false;e(null,n)},function(t){e(t)})}else if(t.isDirectory){var o=t.createReader();s()}function s(){o.readEntries(function(t){if(t.length>0){n=n.concat(Array.from(t));s()}else{a()}})}function a(){i(n.map(function(t){return function(e){r(t,e)}}),function(n,o){if(n){e(n)}else{o.push({fullPath:t.fullPath,name:t.name,isFile:false,isDirectory:true});e(null,o)}})}}},function(t,e){t.exports=class{constructor({audioContext:t,audioBuffer:e,audioSource:n,canvas:o}={}){"string"==typeof o&&(o=document.getElementById(o)),o||(o=document.createElement("canvas"),document.body.appendChild(o)),this.$canvas=o,this.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.$canvas.width=this.width,this.$canvas.height=this.height,this.canvasContext=this.$canvas.getContext("2d"),t&&e&&n&&this.setAnalyzer({audioContext:t,audioBuffer:e,audioSource:n})}setAnalyzer({audioContext:t,audioBuffer:e,audioSource:n}){return console.log("SET ANALYZER"),this.analyser=t.createAnalyser(),this.analyser.fftSize=2048,this.analyser.minDecibels=-90,this.analyser.maxDecibels=-10,this.analyser.smoothingTimeConstant=.85,this.analyser.buffer=e,n.connect(this.analyser),this}render(){const t=this.analyser.fftSize,e=new Uint8Array(t);window.requestAnimationFrame(()=>this.render()),this.analyser.getByteTimeDomainData(e),this.canvasContext.fillStyle="black",this.canvasContext.fillRect(0,0,this.width,this.height),this.canvasContext.lineWidth=2,this.canvasContext.strokeStyle="yellow",this.canvasContext.beginPath();const n=1*this.width/t;let o=0;for(let i=0;i<t;i++){const t=e[i]/128*this.height/2;0===i?this.canvasContext.moveTo(o,t):this.canvasContext.lineTo(o,t),o+=n}this.canvasContext.lineTo(this.$canvas.width,this.$canvas.height/2),this.canvasContext.stroke()}}},function(t,e){t.exports=new class{constructor(){this.fullscreenElement=document.fullscreenElement,void 0===this.fullscreenElement&&(this.fullscreenElement=document.webkitFullscreenElement)}toggle(){if(this.fullscreenElement)document.exitFullscreen&&document.exitFullscreen(),document.webkitExitFullscreen();else{if(document.body.requestFullscreen)return document.body.requestFullscreen();document.body.webkitRequestFullScreen()}}set(t=document){"string"==typeof t&&(t=document.querySelector(t)),t.addEventListener("dblclick",()=>{this.toggle()})}}},function(t,e,n){"use strict";n.r(e);var o=n(1),i=n.n(o),r=n(2),s=n.n(r),a=n(0),u=n.n(a),c=n(3),l=n.n(c),f=n(4);n.n(f).a.set(),console.log("TOAST",u.a);let d,h="deploy.mp3";const p=2e3,y=new l.a,m=new i.a("https://play-spectrum.herokuapp.com/deploy.mp3");function g(t){if(u.a.toast&&"none"!==u.a.toast.style.display)return clearTimeout(d),void(d=setTimeout(()=>g(t),100));u.a.show(t,p)}m.debug(!0).on("stop",()=>g("Stop.")).on("pause",()=>g("Pause.")).on("play",()=>{g(`Playing ${h}...`),y.setAnalyzer({audioContext:m.context,audioBuffer:m.buffer,audioSource:m.source}).render()}).on("forward",t=>g(`Forward ${t} seconds.`)).on("rewind",t=>g(`Rewind ${t} seconds.`)).useKeyboard().load().play(),g("Drop an audio file to start playing!"),s()("body",function(t){const e=t[0];console.log("GOT FILE:",e),h=e.name;const n=new window.FileReader;n.addEventListener("load",t=>{const e=t.target.result;m.load(e).play()}),n.addEventListener("error",t=>{console.error("FileReader error"+t),u.a.show("Oops! Something went wrong :(")}),n.readAsArrayBuffer(e)})},function(t,e){t.exports=function(t,e){return(e="number"==typeof e?e:1/0)?function t(n,o){return n.reduce(function(n,i){return Array.isArray(i)&&o<e?n.concat(t(i,o+1)):n.concat(i)},[])}(t,1):Array.isArray(t)?t.map(function(t){return t}):t}},function(t,e,n){(function(e){t.exports=function(t,n){var o,i,r,s=!0;Array.isArray(t)?(o=[],i=t.length):(r=Object.keys(t),o={},i=r.length);function a(t){function i(){n&&n(t,o),n=null}s?e.nextTick(i):i()}function u(t,e,n){o[t]=n,(0==--i||e)&&a(e)}i?r?r.forEach(function(e){t[e](function(t,n){u(e,t,n)})}):t.forEach(function(t,e){t(function(t,n){u(e,t,n)})}):a(null);s=!1}}).call(this,n(8))},function(t,e){var n,o,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=a(d);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzLXNpbXBsZS10b2FzdC9kaXN0L3NpbXBsZVRvYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cGxheWVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3AvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NwZWN0cnVtL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9mdWxsc2NyZWVuLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxhdHRlbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnVuLXBhcmFsbGVsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ3aW5kb3ciLCJlIiwiY29uZmlndXJhYmxlIiwiZGVmYXVsdCIsImRvY3VtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0aGlzIiwiekluZGV4IiwiaW5uZXJIVE1MIiwidG9hc3QiLCJjaGlsZHJlbiIsImFwcGVuZENoaWxkIiwiYm9keSIsInNldFpJbmRleCIsInN0eWxlIiwic2hvdyIsIm93bmVyRG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZVRleHROb2RlIiwicGxheVNob3dBbmltIiwiZGlzcGxheSIsInNldFRpbWVvdXQiLCJoaWRlIiwidHJhbnNmb3JtIiwid2Via2l0VHJhbnNmb3JtIiwib3BhY2l0eSIsInBsYXlIaWRlQW5pbSIsImNvbnNvbGUiLCJsb2ciLCJ0cmFuc2l0aW9uIiwiYWRkT25jZUV2ZW50Iiwid2Via2l0VHJhbnNpdGlvbiIsImFyZ3VtZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYXBwbHkiLCJbb2JqZWN0IE9iamVjdF0iLCJzcmMiLCJkZWJ1Z1N0YXRlIiwiY29udGV4dCIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsImxvYWRlZCIsImJ1ZmZlciIsInNvdXJjZSIsInN0YXJ0ZWRBdCIsIm9mZnNldCIsImxvb3BTdGF0ZSIsImxpc3RlbmVycyIsIm93bkxpc3RlbmVycyIsInBsYXlpbmciLCJvd25FdmVudHMiLCJpbml0U291cmNlIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwiZXZlbnRzIiwia2V5cyIsImxlbmd0aCIsIm1hcCIsImV2ZW50TmFtZSIsInN0b3AiLCJkaXNjb25uZWN0IiwiY2xlYXJTb3VyY2UiLCJsb2FkIiwiZmV0Y2hlciIsImRlY29kZUF1ZGlvRGF0YSIsInRoZW4iLCJhdWRpb0J1ZmZlciIsImZldGNoIiwibWV0aG9kIiwicmVzcG9uc2UiLCJhcnJheUJ1ZmZlciIsImN1cnJlbnRUaW1lIiwic3RhdGUiLCJsb29wRW5kIiwiZHVyYXRpb24iLCJsb29wIiwic3RhcnQiLCJwbGF5IiwicmVzdW1lIiwic3VzcGVuZCIsInBhdXNlIiwic2Vjb25kcyIsImZvcndhcmQiLCJwbGF5VGltZSIsImdldFBsYXlUaW1lIiwicmV3aW5kIiwic2VsZWN0b3IiLCIkZWwiLCJxdWVyeVNlbGVjdG9yIiwiQXJyb3dSaWdodCIsIkFycm93TGVmdCIsInoiLCJ4IiwidG9nZ2xlTG9vcCIsImluY2x1ZGVzIiwiY2FsbGJhY2siLCJpc093bkV2ZW50IiwiZWxlbSIsIkVycm9yIiwib25Ecm9wIiwidGltZW91dCIsIm9uRHJhZ0VudGVyIiwib25EcmFnT3ZlciIsIm9uRHJhZ0xlYXZlIiwicmVtb3ZlRHJhZ0NsYXNzIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJkYXRhVHJhbnNmZXIiLCJpdGVtcyIsIkFycmF5IiwiZnJvbSIsImZpbGVJdGVtcyIsImZpbHRlciIsIml0ZW0iLCJraW5kIiwidGV4dEl0ZW1zIiwib25Ecm9wVGV4dCIsImNsYXNzTGlzdCIsImFkZCIsImNsZWFyVGltZW91dCIsImRyb3BFZmZlY3QiLCJwb3MiLCJjbGllbnRYIiwieSIsImNsaWVudFkiLCJ0ZXh0IiwiZ2V0RGF0YSIsImZpbGVMaXN0IiwiZmlsZXMiLCJwYXJhbGxlbCIsImNiIiwiZW50cnkiLCJlbnRyaWVzIiwiaXNGaWxlIiwiZmlsZSIsImZ1bGxQYXRoIiwiaXNEaXJlY3RvcnkiLCJlcnIiLCJyZWFkZXIiLCJjcmVhdGVSZWFkZXIiLCJyZWFkRW50cmllcyIsImVudHJpZXNfIiwiY29uY2F0IiwicHJvY2Vzc0VudHJ5IiwicmVzdWx0cyIsInB1c2giLCJ3ZWJraXRHZXRBc0VudHJ5IiwiZmxhdHRlbiIsImRpcmVjdG9yaWVzIiwicmVtb3ZlIiwiZG9uZUVudHJpZXMiLCJhdWRpb0NvbnRleHQiLCJhdWRpb1NvdXJjZSIsImNhbnZhcyIsIiRjYW52YXMiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY2FudmFzQ29udGV4dCIsImdldENvbnRleHQiLCJzZXRBbmFseXplciIsImFuYWx5c2VyIiwiY3JlYXRlQW5hbHlzZXIiLCJmZnRTaXplIiwibWluRGVjaWJlbHMiLCJtYXhEZWNpYmVscyIsInNtb290aGluZ1RpbWVDb25zdGFudCIsImJ1ZmZlckxlbmd0aCIsIlVpbnQ4QXJyYXkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXIiLCJnZXRCeXRlVGltZURvbWFpbkRhdGEiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwic2xpY2VXaWR0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImZ1bGxzY3JlZW5FbGVtZW50IiwidW5kZWZpbmVkIiwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnQiLCJleGl0RnVsbHNjcmVlbiIsIndlYmtpdEV4aXRGdWxsc2NyZWVuIiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiIsImVsIiwidG9nZ2xlIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsInVwbGF5ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsInVwbGF5ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0IiwiZHJhZ19kcm9wX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJkcmFnX2Ryb3BfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0IiwianNfc2ltcGxlX3RvYXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJqc19zaW1wbGVfdG9hc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0Iiwic3BlY3RydW1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsInNwZWN0cnVtX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCIsIl9mdWxsc2NyZWVuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJhIiwic2V0IiwiZmlsZW5hbWUiLCJ0b2FzdER1cmF0aW9uIiwic3BlY3RydW0iLCJwbGF5ZXIiLCJzaG93VG9hc3QiLCJtZXNzYWdlIiwiZGVidWciLCJvbiIsInVzZUtleWJvYXJkIiwiRmlsZVJlYWRlciIsImRhdGEiLCJ0YXJnZXQiLCJyZXN1bHQiLCJlcnJvciIsInJlYWRBc0FycmF5QnVmZmVyIiwibGlzdCIsImRlcHRoIiwiSW5maW5pdHkiLCJfZmxhdHRlbiIsInJlZHVjZSIsImFjYyIsImlzQXJyYXkiLCJwcm9jZXNzIiwidGFza3MiLCJwZW5kaW5nIiwiaXNTeW5jIiwiZG9uZSIsImVuZCIsIm5leHRUaWNrIiwiZWFjaCIsImZvckVhY2giLCJ0YXNrIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJhcmdzIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUos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dUJBLEVBQUFpRSxVQUFBMEIsT0FBc0IzRixJQUM3Q29TLEVBQUFwUyxFQUFBLEdBQUFpRSxVQUFBakUsR0FHQXdSLEVBQUFwRyxLQUFBLElBQUE2RyxFQUFBWCxFQUFBYyxJQUNBLElBQUFaLEVBQUE3TCxRQUFBOEwsR0FDQUosRUFBQU8sSUFTQUssRUFBQXJRLFVBQUFrUSxJQUFBLFdBQ0F2UCxLQUFBK08sSUFBQWxOLE1BQUEsS0FBQTdCLEtBQUEyUCxRQUVBM0IsRUFBQThCLE1BQUEsVUFDQTlCLEVBQUErQixTQUFBLEVBQ0EvQixFQUFBZ0MsSUFBQSxHQUNBaEMsRUFBQWlDLEtBQUEsR0FDQWpDLEVBQUFrQyxRQUFBLEdBQ0FsQyxFQUFBbUMsU0FBQSxHQUlBbkMsRUFBQWYsR0FBQTJDLEVBQ0E1QixFQUFBb0MsWUFBQVIsRUFDQTVCLEVBQUFxQyxLQUFBVCxFQUNBNUIsRUFBQXNDLElBQUFWLEVBQ0E1QixFQUFBdUMsZUFBQVgsRUFDQTVCLEVBQUF3QyxtQkFBQVosRUFDQTVCLEVBQUF5QyxLQUFBYixFQUNBNUIsRUFBQTBDLGdCQUFBZCxFQUNBNUIsRUFBQTJDLG9CQUFBZixFQUVBNUIsRUFBQXRMLFVBQUEsU0FBQTFFLEdBQXFDLFVBRXJDZ1EsRUFBQTRDLFFBQUEsU0FBQTVTLEdBQ0EsVUFBQThILE1BQUEscUNBR0FrSSxFQUFBNkMsSUFBQSxXQUEyQixXQUMzQjdDLEVBQUE4QyxNQUFBLFNBQUFDLEdBQ0EsVUFBQWpMLE1BQUEsbUNBRUFrSSxFQUFBZ0QsTUFBQSxXQUE0QiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLnNpbXBsZVRvYXN0PWUoKTp0LnNpbXBsZVRvYXN0PWUoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4obyl7aWYoZVtvXSlyZXR1cm4gZVtvXS5leHBvcnRzO3ZhciBpPWVbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsbyl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpvfSl9LG4ucj1mdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBuLmQoZSxcImFcIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD1cIi4vZGlzdC9cIixuKG4ucz0wKX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz17Y3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQsZT10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxuPXQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxvPXRoaXMuekluZGV4fHwxZTM7bi5pbm5lckhUTUw9J1xcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2FzdC1jb250YWluZXJcIlxcbiAgICAgICAgICAgICAgICBzdHlsZT1cInBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyB6LWluZGV4OiAnK28rJzsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOyBkaXNwbGF5OiBub25lXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2FzdC1jb250ZW50LWNvbnRhaW5lclwiXFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiA1MCU7IGxlZnQ6IDUwJTsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XCJcXG4gICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInRvYXN0Q29udGVudFwiIGNsYXNzPVwidG9hc3QtY29udGVudFwiIHN0eWxlPVwicGFkZGluZzogNHB4IDEwcHg7IC13ZWJraXQtdHJhbnNpdGlvbjogLXdlYmtpdC10cmFuc2Zvcm0gNTAwbXMgZWFzZS1vdXQsIG9wYWNpdHkgNTAwbXMgZWFzZS1vdXQ7IHRyYW5zaXRpb246IHRyYW5zZm9ybSA1MDBtcyBlYXNlLW91dCwgb3BhY2l0eSA1MDBtcyBlYXNlLW91dDsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgYm9yZGVyLXJhZGl1czogNHB4OyBjb2xvcjogI2ZmZjtcIlxcbiAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICcsdGhpcy50b2FzdD1uLmNoaWxkcmVuWzBdLGUuYXBwZW5kQ2hpbGQodGhpcy50b2FzdCksdC5ib2R5LmFwcGVuZENoaWxkKGUpfSxzZXRaSW5kZXg6ZnVuY3Rpb24odCl7dGhpcy56SW5kZXg9dCx0aGlzLnRvYXN0JiYodGhpcy50b2FzdC5zdHlsZS56SW5kZXg9dCl9LHNob3c6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMudG9hc3R8fHRoaXMuY3JlYXRlKCk7dmFyIG89dGhpcy50b2FzdCxpPW8ub3duZXJEb2N1bWVudCxzPWkuZ2V0RWxlbWVudEJ5SWQoXCJ0b2FzdENvbnRlbnRcIik7cy5pbm5lckhUTUw9XCJcIixzLmFwcGVuZENoaWxkKGkuY3JlYXRlVGV4dE5vZGUodCkpLHRoaXMucGxheVNob3dBbmltKHMpLG8uc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBuLmhpZGUoKX0sZXx8MmUzKX0scGxheVNob3dBbmltOmZ1bmN0aW9uKHQpe3Quc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlWSgtNDBweClcIix0LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInRyYW5zbGF0ZVkoLTQwcHgpXCIsdC5zdHlsZS5vcGFjaXR5PTAsc2V0VGltZW91dChmdW5jdGlvbigpe3Quc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlWSgwcHgpXCIsdC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09XCJ0cmFuc2xhdGVZKDBweClcIix0LnN0eWxlLm9wYWNpdHk9MX0pfSxoaWRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMudG9hc3Qub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvYXN0Q29udGVudFwiKTt0aGlzLnBsYXlIaWRlQW5pbShlKTt2YXIgbj1mdW5jdGlvbigpe2NvbnNvbGUubG9nKFwiaW4gYWZ0ZXIgYW5pbVwiKSx0LnRvYXN0LnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9O2Uuc3R5bGUudHJhbnNpdGlvbj90aGlzLmFkZE9uY2VFdmVudChlLFwidHJhbnNpdGlvbmVuZFwiLG4pOmUuc3R5bGUud2Via2l0VHJhbnNpdGlvbj90aGlzLmFkZE9uY2VFdmVudChlLFwid2Via2l0VHJhbnNpdGlvbkVuZFwiLG4pOm4oKX0sYWRkT25jZUV2ZW50OmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzLGk9YXJndW1lbnRzO3QuYWRkRXZlbnRMaXN0ZW5lcihlLGZ1bmN0aW9uIHMoKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxzKSxuLmFwcGx5KG8saSl9KX0scGxheUhpZGVBbmltOmZ1bmN0aW9uKHQpe3Quc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlWSgxMHB4KVwiLHQuc3R5bGUud2Via2l0VHJhbnNmb3JtPVwidHJhbnNsYXRlWSgxMHB4KVwiLHQuc3R5bGUub3BhY2l0eT0wfX07ZS5kZWZhdWx0PW99XSl9KTsiLCJtb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFBsYXllciB7XG4gIGNvbnN0cnVjdG9yIChzcmMsIGRlYnVnU3RhdGUgPSBmYWxzZSkge1xuICAgIHRoaXMuc3JjID0gc3JjXG4gICAgdGhpcy5jb250ZXh0ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKClcbiAgICB0aGlzLmxvYWRlZCA9IGZhbHNlXG4gICAgdGhpcy5idWZmZXIgPSBudWxsXG4gICAgdGhpcy5zb3VyY2UgPSBudWxsXG4gICAgdGhpcy5kZWJ1Z1N0YXRlID0gZGVidWdTdGF0ZVxuICAgIHRoaXMuc3RhcnRlZEF0ID0gMFxuICAgIHRoaXMub2Zmc2V0ID0gMFxuICAgIHRoaXMubG9vcFN0YXRlID0gZmFsc2VcbiAgICB0aGlzLmxpc3RlbmVycyA9IHt9XG4gICAgdGhpcy5vd25MaXN0ZW5lcnMgPSB7fVxuICAgIHRoaXMucGxheWluZyA9IGZhbHNlXG4gICAgdGhpcy5vd25FdmVudHMgPSBbJ3BsYXknLCAnc3RvcCcsICdwYXVzZScsICdmb3J3YXJkJywgJ3Jld2luZCcsICdsb2FkJywgJ2xvYWRlZCddXG5cbiAgICB0aGlzLmluaXRTb3VyY2UoKVxuICB9XG5cbiAgaW5pdFNvdXJjZSAoKSB7XG4gICAgdGhpcy5zb3VyY2UgPSB0aGlzLmNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKClcbiAgICB0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbilcblxuICAgIC8vIEFkZCBzZXQgZXZlbnQgbGlzdGVuZXJzIHRvIG5ldyBzb3VyY2UuXG4gICAgY29uc3QgZXZlbnRzID0gT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnMpXG4gICAgaWYgKCFldmVudHMubGVuZ3RoKSByZXR1cm5cbiAgICBldmVudHMubWFwKGV2ZW50TmFtZSA9PiB7XG4gICAgICB0aGlzLmxvZyhgUmUtYWRkIGV2ZW50OiAke2V2ZW50TmFtZX1gKVxuICAgICAgdGhpcy5zb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0pXG4gICAgfSlcbiAgfVxuXG4gIGNsZWFyU291cmNlICgpIHtcbiAgICBpZiAoIXRoaXMuc291cmNlKSByZXR1cm5cbiAgICBpZiAodGhpcy5wbGF5aW5nKSB0aGlzLnNvdXJjZS5zdG9wKClcbiAgICB0aGlzLnNvdXJjZS5kaXNjb25uZWN0KClcbiAgICB0aGlzLmluaXRTb3VyY2UoKVxuICB9XG5cbiAgc3RvcCAoKSB7XG4gICAgdGhpcy5jbGVhclNvdXJjZSgpXG4gICAgdGhpcy5zdGFydGVkQXQgPSAwXG4gICAgdGhpcy5vZmZzZXQgPSAwXG4gICAgdGhpcy5wbGF5aW5nID0gZmFsc2VcbiAgICB0aGlzLmxvZygnU3RvcHBlZC4nKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vd25MaXN0ZW5lcnMuc3RvcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vd25MaXN0ZW5lcnMuc3RvcCgpXG4gICAgfVxuICB9XG5cbiAgbG9hZCAoc3JjKSB7XG4gICAgc3JjID0gc3JjIHx8IHRoaXMuc3JjXG4gICAgdGhpcy5sb2coJ0xvYWRpbmcnLCBzcmMpXG4gICAgaWYgKHR5cGVvZiB0aGlzLm93bkxpc3RlbmVycy5sb2FkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm93bkxpc3RlbmVycy5sb2FkKHNyYylcbiAgICB9XG4gICAgaWYgKHRoaXMubG9hZGVkKSB7XG4gICAgICB0aGlzLmNsZWFyU291cmNlKClcbiAgICAgIHRoaXMubG9hZGVkID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuZmV0Y2hlciA9IHRoaXMuY29udGV4dC5kZWNvZGVBdWRpb0RhdGEoc3JjKS50aGVuKGF1ZGlvQnVmZmVyID0+IHtcbiAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuYnVmZmVyID0gYXVkaW9CdWZmZXJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm93bkxpc3RlbmVycy5sb2FkZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm93bkxpc3RlbmVycy5sb2FkZWQoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICB0aGlzLmZldGNoZXIgPSB3aW5kb3dcbiAgICAgIC5mZXRjaChzcmMsIHsgbWV0aG9kOiAnR0VUJywgbW9kZTogJ25vLWNvcnMnIH0pXG4gICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxuICAgICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4gdGhpcy5jb250ZXh0LmRlY29kZUF1ZGlvRGF0YShhcnJheUJ1ZmZlcikpXG4gICAgICAudGhlbihhdWRpb0J1ZmZlciA9PiB7XG4gICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IGF1ZGlvQnVmZmVyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vd25MaXN0ZW5lcnMubG9hZGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vd25MaXN0ZW5lcnMubG9hZGVkKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgZ2V0UGxheVRpbWUgKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHQuY3VycmVudFRpbWUgLSB0aGlzLnN0YXJ0ZWRBdCArIHRoaXMub2Zmc2V0XG4gIH1cblxuICBwbGF5IChvZmZzZXQpIHtcbiAgICBpZiAodGhpcy5jb250ZXh0LnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgdGhpcy5jb250ZXh0LnJlc3VtZSgpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubG9hZGVkKSB7XG4gICAgICB0aGlzLmxvZygnV2FpdGluZyBmb3IgYnVmZmVyIHRvIGxvYWQuLi4nKVxuICAgICAgdGhpcy5mZXRjaGVyLnRoZW4oKCkgPT4gdGhpcy5wbGF5KCkpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zb3VyY2UuYnVmZmVyKSByZXR1cm5cblxuICAgIHRoaXMuc291cmNlLmJ1ZmZlciA9IHRoaXMuYnVmZmVyXG4gICAgdGhpcy5zb3VyY2UubG9vcEVuZCA9IHRoaXMuYnVmZmVyLmR1cmF0aW9uXG4gICAgdGhpcy5zb3VyY2UubG9vcCA9IHRoaXMubG9vcFN0YXRlXG4gICAgdGhpcy5zdGFydGVkQXQgPSB0aGlzLmNvbnRleHQuY3VycmVudFRpbWVcbiAgICB0aGlzLnNvdXJjZS5zdGFydCgwLCBvZmZzZXQpXG4gICAgdGhpcy5wbGF5aW5nID0gdHJ1ZVxuICAgIHRoaXMuc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgKCkgPT4gdGhpcy5zdG9wKCkpIC8vIFNvIHdlIGNhbiByZXN0YXJ0IHBsYXliYWNrLlxuICAgIHRoaXMubG9nKCdQbGF5aW5nLi4uJylcbiAgICBpZiAodHlwZW9mIHRoaXMub3duTGlzdGVuZXJzLnBsYXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3duTGlzdGVuZXJzLnBsYXkoKVxuICAgIH1cbiAgfVxuXG4gIHBhdXNlICgpIHtcbiAgICB0aGlzLmNvbnRleHQuc3VzcGVuZCgpXG4gICAgdGhpcy5wbGF5aW5nID0gZmFsc2VcbiAgICB0aGlzLmxvZygnUGF1c2VkLicpXG4gICAgaWYgKHR5cGVvZiB0aGlzLm93bkxpc3RlbmVycy5wYXVzZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vd25MaXN0ZW5lcnMucGF1c2UoKVxuICAgIH1cbiAgfVxuXG4gIGxvb3AgKGxvb3BTdGF0ZSkge1xuICAgIHRoaXMubG9vcFN0YXRlID0gbG9vcFN0YXRlXG4gICAgdGhpcy5sb2coJ0xvb3A6JywgbG9vcFN0YXRlID8gJ09OJyA6ICdPRkYnKVxuICAgIHRoaXMuc291cmNlLmxvb3AgPSBsb29wU3RhdGVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgdG9nZ2xlTG9vcCAoKSB7XG4gICAgdGhpcy5sb29wU3RhdGUgPSAhdGhpcy5sb29wU3RhdGVcbiAgICB0aGlzLmxvZygnVG9nZ2xlIGxvb3A6JywgdGhpcy5sb29wU3RhdGUgPyAnT04nIDogJ09GRicpXG4gICAgdGhpcy5zb3VyY2UubG9vcCA9IHRoaXMubG9vcFN0YXRlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGZvcndhcmQgKHNlY29uZHMgPSA1KSB7XG4gICAgdGhpcy5sb2coYD4+IEZvcndhcmQgJHtzZWNvbmRzfSBzZWNvbmRzYClcbiAgICBpZiAodHlwZW9mIHRoaXMub3duTGlzdGVuZXJzLmZvcndhcmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3duTGlzdGVuZXJzLmZvcndhcmQoc2Vjb25kcylcbiAgICB9XG4gICAgY29uc3QgcGxheVRpbWUgPSB0aGlzLmdldFBsYXlUaW1lKClcbiAgICB0aGlzLm9mZnNldCA9IHBsYXlUaW1lICsgc2Vjb25kc1xuICAgIGlmICh0aGlzLm9mZnNldCA+IHRoaXMuYnVmZmVyLmR1cmF0aW9uKSB0aGlzLm9mZnNldCA9IHRoaXMuYnVmZmVyLmR1cmF0aW9uIC0gc2Vjb25kc1xuICAgIHRoaXMubG9nKCdQbGF5IEAnLCB0aGlzLm9mZnNldClcbiAgICB0aGlzLmNsZWFyU291cmNlKClcbiAgICB0aGlzLnBsYXkodGhpcy5vZmZzZXQpXG4gIH1cblxuICByZXdpbmQgKHNlY29uZHMgPSA1KSB7XG4gICAgdGhpcy5sb2coYDw8IFJld2luZCAke3NlY29uZHN9IHNlY29uZHNgKVxuICAgIGlmICh0eXBlb2YgdGhpcy5vd25MaXN0ZW5lcnMucmV3aW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm93bkxpc3RlbmVycy5yZXdpbmQoc2Vjb25kcylcbiAgICB9XG4gICAgY29uc3QgcGxheVRpbWUgPSB0aGlzLmdldFBsYXlUaW1lKClcbiAgICB0aGlzLm9mZnNldCA9IHBsYXlUaW1lIC0gc2Vjb25kc1xuICAgIGlmICh0aGlzLm9mZnNldCA8IDApIHRoaXMub2Zmc2V0ID0gMFxuICAgIHRoaXMubG9nKCdQbGF5IEAnLCB0aGlzLm9mZnNldClcbiAgICB0aGlzLmNsZWFyU291cmNlKClcbiAgICB0aGlzLnBsYXkodGhpcy5vZmZzZXQpXG4gIH1cblxuICB1c2VLZXlib2FyZCAoc2VsZWN0b3IpIHtcbiAgICB0aGlzLmxvZygnVXNpbmcga2V5Ym9hcmQuJylcbiAgICBsZXQgJGVsID0gZG9jdW1lbnQuYm9keVxuICAgIGlmIChzZWxlY3RvcikgJGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcilcbiAgICAkZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsICh7IGtleSB9KSA9PiB7XG4gICAgICBjb25zdCBrZXlNYXAgPSB7XG4gICAgICAgIEFycm93UmlnaHQ6ICgpID0+IHRoaXMuZm9yd2FyZCgpLFxuICAgICAgICBBcnJvd0xlZnQ6ICgpID0+IHRoaXMucmV3aW5kKCksXG4gICAgICAgIHo6ICgpID0+IHRoaXMuc3RvcCgpLFxuICAgICAgICB4OiAoKSA9PiB0aGlzLnBsYXkoKSxcbiAgICAgICAgYzogKCkgPT4gdGhpcy5wYXVzZSgpLFxuICAgICAgICBsOiAoKSA9PiB0aGlzLnRvZ2dsZUxvb3AoKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBtZXRob2QgPSBrZXlNYXBba2V5XVxuICAgICAgaWYgKG1ldGhvZCkgbWV0aG9kKClcbiAgICB9KVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBpc093bkV2ZW50IChldmVudE5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5vd25FdmVudHMuaW5jbHVkZXMoZXZlbnROYW1lKVxuICB9XG5cbiAgb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5pc093bkV2ZW50KGV2ZW50TmFtZSkpIHtcbiAgICAgIHRoaXMub3duTGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBjYWxsYmFja1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICB0aGlzLnNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spXG4gICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGRlYnVnIChkZWJ1Z1N0YXRlKSB7XG4gICAgdGhpcy5kZWJ1Z1N0YXRlID0gZGVidWdTdGF0ZVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBsb2cgKCkge1xuICAgIGlmICghdGhpcy5kZWJ1Z1N0YXRlKSByZXR1cm5cbiAgICBjb25zb2xlLmxvZygnUGxheWVyOicsIC4uLmFyZ3VtZW50cylcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBkcmFnRHJvcFxuXG52YXIgZmxhdHRlbiA9IHJlcXVpcmUoJ2ZsYXR0ZW4nKVxudmFyIHBhcmFsbGVsID0gcmVxdWlyZSgncnVuLXBhcmFsbGVsJylcblxuZnVuY3Rpb24gZHJhZ0Ryb3AgKGVsZW0sIGxpc3RlbmVycykge1xuICBpZiAodHlwZW9mIGVsZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIHNlbGVjdG9yID0gZWxlbVxuICAgIGVsZW0gPSB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtKVxuICAgIGlmICghZWxlbSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBzZWxlY3RvciArICdcIiBkb2VzIG5vdCBtYXRjaCBhbnkgSFRNTCBlbGVtZW50cycpXG4gICAgfVxuICB9XG5cbiAgaWYgKCFlbGVtKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBlbGVtICsgJ1wiIGlzIG5vdCBhIHZhbGlkIEhUTUwgZWxlbWVudCcpXG4gIH1cblxuICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGxpc3RlbmVycyA9IHsgb25Ecm9wOiBsaXN0ZW5lcnMgfVxuICB9XG5cbiAgdmFyIHRpbWVvdXRcblxuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIG9uRHJhZ0VudGVyLCBmYWxzZSlcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIG9uRHJhZ092ZXIsIGZhbHNlKVxuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIG9uRHJhZ0xlYXZlLCBmYWxzZSlcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgb25Ecm9wLCBmYWxzZSlcblxuICAvLyBGdW5jdGlvbiB0byByZW1vdmUgZHJhZy1kcm9wIGxpc3RlbmVyc1xuICByZXR1cm4gZnVuY3Rpb24gcmVtb3ZlICgpIHtcbiAgICByZW1vdmVEcmFnQ2xhc3MoKVxuICAgIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgb25EcmFnRW50ZXIsIGZhbHNlKVxuICAgIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBvbkRyYWdPdmVyLCBmYWxzZSlcbiAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIG9uRHJhZ0xlYXZlLCBmYWxzZSlcbiAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBvbkRyb3AsIGZhbHNlKVxuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnRW50ZXIgKGUpIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uRHJhZ0VudGVyKSB7XG4gICAgICBsaXN0ZW5lcnMub25EcmFnRW50ZXIoZSlcbiAgICB9XG5cbiAgICAvLyBQcmV2ZW50IGV2ZW50XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnT3ZlciAoZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGlmIChsaXN0ZW5lcnMub25EcmFnT3Zlcikge1xuICAgICAgbGlzdGVuZXJzLm9uRHJhZ092ZXIoZSlcbiAgICB9XG5cbiAgICBpZiAoZS5kYXRhVHJhbnNmZXIuaXRlbXMpIHtcbiAgICAgIC8vIE9ubHkgYWRkIFwiZHJhZ1wiIGNsYXNzIHdoZW4gYGl0ZW1zYCBjb250YWlucyBpdGVtcyB0aGF0IGFyZSBhYmxlIHRvIGJlXG4gICAgICAvLyBoYW5kbGVkIGJ5IHRoZSByZWdpc3RlcmVkIGxpc3RlbmVycyAoZmlsZXMgdnMuIHRleHQpXG4gICAgICB2YXIgaXRlbXMgPSBBcnJheS5mcm9tKGUuZGF0YVRyYW5zZmVyLml0ZW1zKVxuICAgICAgdmFyIGZpbGVJdGVtcyA9IGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5raW5kID09PSAnZmlsZSdcbiAgICAgIH0pXG4gICAgICB2YXIgdGV4dEl0ZW1zID0gaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmtpbmQgPT09ICdzdHJpbmcnXG4gICAgICB9KVxuXG4gICAgICBpZiAoZmlsZUl0ZW1zLmxlbmd0aCA9PT0gMCAmJiAhbGlzdGVuZXJzLm9uRHJvcFRleHQpIHJldHVyblxuICAgICAgaWYgKHRleHRJdGVtcy5sZW5ndGggPT09IDAgJiYgIWxpc3RlbmVycy5vbkRyb3ApIHJldHVyblxuICAgICAgaWYgKGZpbGVJdGVtcy5sZW5ndGggPT09IDAgJiYgdGV4dEl0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG4gICAgfVxuXG4gICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdkcmFnJylcbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcblxuICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSdcblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnTGVhdmUgKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAobGlzdGVuZXJzLm9uRHJhZ0xlYXZlKSB7XG4gICAgICBsaXN0ZW5lcnMub25EcmFnTGVhdmUoZSlcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChyZW1vdmVEcmFnQ2xhc3MsIDUwKVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiBvbkRyb3AgKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAobGlzdGVuZXJzLm9uRHJhZ0xlYXZlKSB7XG4gICAgICBsaXN0ZW5lcnMub25EcmFnTGVhdmUoZSlcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICByZW1vdmVEcmFnQ2xhc3MoKVxuXG4gICAgdmFyIHBvcyA9IHtcbiAgICAgIHg6IGUuY2xpZW50WCxcbiAgICAgIHk6IGUuY2xpZW50WVxuICAgIH1cblxuICAgIC8vIHRleHQgZHJvcCBzdXBwb3J0XG4gICAgdmFyIHRleHQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0JylcbiAgICBpZiAodGV4dCAmJiBsaXN0ZW5lcnMub25Ecm9wVGV4dCkge1xuICAgICAgbGlzdGVuZXJzLm9uRHJvcFRleHQodGV4dCwgcG9zKVxuICAgIH1cblxuICAgIC8vIEZpbGUgZHJvcCBzdXBwb3J0LiBUaGUgYGRhdGFUcmFuc2Zlci5pdGVtc2AgQVBJIHN1cHBvcnRzIGRpcmVjdG9yaWVzLCBzbyB3ZVxuICAgIC8vIHVzZSBpdCBpbnN0ZWFkIG9mIGBkYXRhVHJhbnNmZXIuZmlsZXNgLCBldmVuIHRob3VnaCBpdCdzIG11Y2ggbW9yZVxuICAgIC8vIGNvbXBsaWNhdGVkIHRvIHVzZS5cbiAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvZHJhZy1kcm9wL2lzc3Vlcy8zOVxuICAgIGlmIChsaXN0ZW5lcnMub25Ecm9wICYmIGUuZGF0YVRyYW5zZmVyLml0ZW1zKSB7XG4gICAgICB2YXIgZmlsZUxpc3QgPSBlLmRhdGFUcmFuc2Zlci5maWxlc1xuXG4gICAgICAvLyBIYW5kbGUgZGlyZWN0b3JpZXMgaW4gQ2hyb21lIHVzaW5nIHRoZSBwcm9wcmlldGFyeSBGaWxlU3lzdGVtIEFQSVxuICAgICAgdmFyIGl0ZW1zID0gQXJyYXkuZnJvbShlLmRhdGFUcmFuc2Zlci5pdGVtcykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmtpbmQgPT09ICdmaWxlJ1xuICAgICAgfSlcblxuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgICAgIHBhcmFsbGVsKFxuICAgICAgICBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICBwcm9jZXNzRW50cnkoaXRlbS53ZWJraXRHZXRBc0VudHJ5KCksIGNiKVxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICAgICAgICAvLyBUaGlzIGNhdGNoZXMgcGVybWlzc2lvbiBlcnJvcnMgd2l0aCBmaWxlOi8vIGluIENocm9tZS4gVGhpcyBzaG91bGQgbmV2ZXJcbiAgICAgICAgICAvLyB0aHJvdyBpbiBwcm9kdWN0aW9uIGNvZGUsIHNvIHRoZSB1c2VyIGRvZXMgbm90IG5lZWQgdG8gdXNlIHRyeS1jYXRjaC5cbiAgICAgICAgICBpZiAoZXJyKSB0aHJvdyBlcnJcblxuICAgICAgICAgIHZhciBlbnRyaWVzID0gZmxhdHRlbihyZXN1bHRzKVxuXG4gICAgICAgICAgdmFyIGZpbGVzID0gZW50cmllcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmlzRmlsZVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB2YXIgZGlyZWN0b3JpZXMgPSBlbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaXNEaXJlY3RvcnlcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgbGlzdGVuZXJzLm9uRHJvcChmaWxlcywgcG9zLCBmaWxlTGlzdCwgZGlyZWN0b3JpZXMpXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZURyYWdDbGFzcyAoKSB7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnJylcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzRW50cnkgKGVudHJ5LCBjYikge1xuICB2YXIgZW50cmllcyA9IFtdXG5cbiAgaWYgKGVudHJ5LmlzRmlsZSkge1xuICAgIGVudHJ5LmZpbGUoXG4gICAgICBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICBmaWxlLmZ1bGxQYXRoID0gZW50cnkuZnVsbFBhdGggLy8gcHJlc2VydmUgcGF0aGluZyBmb3IgY29uc3VtZXJcbiAgICAgICAgZmlsZS5pc0ZpbGUgPSB0cnVlXG4gICAgICAgIGZpbGUuaXNEaXJlY3RvcnkgPSBmYWxzZVxuICAgICAgICBjYihudWxsLCBmaWxlKVxuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgY2IoZXJyKVxuICAgICAgfVxuICAgIClcbiAgfSBlbHNlIGlmIChlbnRyeS5pc0RpcmVjdG9yeSkge1xuICAgIHZhciByZWFkZXIgPSBlbnRyeS5jcmVhdGVSZWFkZXIoKVxuICAgIHJlYWRFbnRyaWVzKClcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRFbnRyaWVzICgpIHtcbiAgICByZWFkZXIucmVhZEVudHJpZXMoZnVuY3Rpb24gKGVudHJpZXNfKSB7XG4gICAgICBpZiAoZW50cmllc18ubGVuZ3RoID4gMCkge1xuICAgICAgICBlbnRyaWVzID0gZW50cmllcy5jb25jYXQoQXJyYXkuZnJvbShlbnRyaWVzXykpXG4gICAgICAgIHJlYWRFbnRyaWVzKCkgLy8gY29udGludWUgcmVhZGluZyBlbnRyaWVzIHVudGlsIGByZWFkRW50cmllc2AgcmV0dXJucyBubyBtb3JlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lRW50cmllcygpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvbmVFbnRyaWVzICgpIHtcbiAgICBwYXJhbGxlbChcbiAgICAgIGVudHJpZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgcHJvY2Vzc0VudHJ5KGVudHJ5LCBjYilcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBjYihlcnIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgIGZ1bGxQYXRoOiBlbnRyeS5mdWxsUGF0aCxcbiAgICAgICAgICAgIG5hbWU6IGVudHJ5Lm5hbWUsXG4gICAgICAgICAgICBpc0ZpbGU6IGZhbHNlLFxuICAgICAgICAgICAgaXNEaXJlY3Rvcnk6IHRydWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIGNiKG51bGwsIHJlc3VsdHMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gY2xhc3MgU3BlY3RydW0ge1xuICBjb25zdHJ1Y3RvciAoeyBhdWRpb0NvbnRleHQsIGF1ZGlvQnVmZmVyLCBhdWRpb1NvdXJjZSwgY2FudmFzIH0gPSB7fSkge1xuICAgIGlmICh0eXBlb2YgY2FudmFzID09PSAnc3RyaW5nJykgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FudmFzKVxuICAgIGlmICghY2FudmFzKSB7XG4gICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpXG4gICAgfVxuICAgIHRoaXMuJGNhbnZhcyA9IGNhbnZhc1xuICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aFxuICAgIHRoaXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHRcbiAgICB0aGlzLiRjYW52YXMud2lkdGggPSB0aGlzLndpZHRoXG4gICAgdGhpcy4kY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0XG4gICAgdGhpcy5jYW52YXNDb250ZXh0ID0gdGhpcy4kY2FudmFzLmdldENvbnRleHQoJzJkJylcblxuICAgIGlmIChhdWRpb0NvbnRleHQgJiYgYXVkaW9CdWZmZXIgJiYgYXVkaW9Tb3VyY2UpIHRoaXMuc2V0QW5hbHl6ZXIoeyBhdWRpb0NvbnRleHQsIGF1ZGlvQnVmZmVyLCBhdWRpb1NvdXJjZSB9KVxuICB9XG5cbiAgc2V0QW5hbHl6ZXIgKHsgYXVkaW9Db250ZXh0LCBhdWRpb0J1ZmZlciwgYXVkaW9Tb3VyY2UgfSkge1xuICAgIGNvbnNvbGUubG9nKCdTRVQgQU5BTFlaRVInKVxuICAgIHRoaXMuYW5hbHlzZXIgPSBhdWRpb0NvbnRleHQuY3JlYXRlQW5hbHlzZXIoKVxuICAgIHRoaXMuYW5hbHlzZXIuZmZ0U2l6ZSA9IDIwNDhcbiAgICB0aGlzLmFuYWx5c2VyLm1pbkRlY2liZWxzID0gLTkwXG4gICAgdGhpcy5hbmFseXNlci5tYXhEZWNpYmVscyA9IC0xMFxuICAgIHRoaXMuYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC44NVxuICAgIHRoaXMuYW5hbHlzZXIuYnVmZmVyID0gYXVkaW9CdWZmZXJcbiAgICBhdWRpb1NvdXJjZS5jb25uZWN0KHRoaXMuYW5hbHlzZXIpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgYnVmZmVyTGVuZ3RoID0gdGhpcy5hbmFseXNlci5mZnRTaXplXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyTGVuZ3RoKVxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5yZW5kZXIoKSlcbiAgICB0aGlzLmFuYWx5c2VyLmdldEJ5dGVUaW1lRG9tYWluRGF0YShidWZmZXIpXG4gICAgdGhpcy5jYW52YXNDb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjaydcbiAgICB0aGlzLmNhbnZhc0NvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpXG4gICAgdGhpcy5jYW52YXNDb250ZXh0LmxpbmVXaWR0aCA9IDJcbiAgICB0aGlzLmNhbnZhc0NvbnRleHQuc3Ryb2tlU3R5bGUgPSAneWVsbG93J1xuICAgIHRoaXMuY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKVxuXG4gICAgY29uc3Qgc2xpY2VXaWR0aCA9ICh0aGlzLndpZHRoICogMS4wKSAvIGJ1ZmZlckxlbmd0aFxuICAgIGxldCB4ID0gMFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJMZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdiA9IGJ1ZmZlcltpXSAvIDEyOC4wXG4gICAgICBjb25zdCB5ID0gKHYgKiB0aGlzLmhlaWdodCkgLyAyXG5cbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIHRoaXMuY2FudmFzQ29udGV4dC5tb3ZlVG8oeCwgeSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2FudmFzQ29udGV4dC5saW5lVG8oeCwgeSlcbiAgICAgIH1cblxuICAgICAgeCArPSBzbGljZVdpZHRoXG4gICAgfVxuXG4gICAgdGhpcy5jYW52YXNDb250ZXh0LmxpbmVUbyh0aGlzLiRjYW52YXMud2lkdGgsIHRoaXMuJGNhbnZhcy5oZWlnaHQgLyAyKVxuICAgIHRoaXMuY2FudmFzQ29udGV4dC5zdHJva2UoKVxuICB9XG59XG4iLCJjbGFzcyBGdWxsc2NyZWVuIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuZnVsbHNjcmVlbkVsZW1lbnQgPSBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudFxuICAgIGlmICh0aGlzLmZ1bGxzY3JlZW5FbGVtZW50ID09PSB1bmRlZmluZWQpIHRoaXMuZnVsbHNjcmVlbkVsZW1lbnQgPSBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudFxuICB9XG5cbiAgdG9nZ2xlICgpIHtcbiAgICBpZiAoIXRoaXMuZnVsbHNjcmVlbkVsZW1lbnQpIHtcbiAgICAgIGlmIChkb2N1bWVudC5ib2R5LnJlcXVlc3RGdWxsc2NyZWVuKSByZXR1cm4gZG9jdW1lbnQuYm9keS5yZXF1ZXN0RnVsbHNjcmVlbigpXG4gICAgICBkb2N1bWVudC5ib2R5LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuKClcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpXG4gICAgICBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpXG4gICAgfVxuICB9XG5cbiAgc2V0IChlbCA9IGRvY3VtZW50KSB7XG4gICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbClcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMudG9nZ2xlKClcbiAgICB9KVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IEZ1bGxzY3JlZW4oKVxuIiwiaW1wb3J0IFBsYXllciBmcm9tICd1cGxheWVyJ1xuaW1wb3J0IGRyYWdEcm9wIGZyb20gJ2RyYWctZHJvcCdcbmltcG9ydCB0b2FzdCBmcm9tICdqcy1zaW1wbGUtdG9hc3QnXG5pbXBvcnQgU3BlY3RydW0gZnJvbSAnc3BlY3RydW0nXG5pbXBvcnQgZnVsbHNjcmVlbiBmcm9tICcuL2Z1bGxzY3JlZW4nXG5mdWxsc2NyZWVuLnNldCgpXG5cbmNvbnNvbGUubG9nKCdUT0FTVCcsIHRvYXN0KVxubGV0IGZpbGVuYW1lID0gJ2RlcGxveS5tcDMnXG5sZXQgdGltZW91dFxuY29uc3QgdG9hc3REdXJhdGlvbiA9IDIwMDBcbmNvbnN0IHNwZWN0cnVtID0gbmV3IFNwZWN0cnVtKClcbmNvbnN0IHBsYXllciA9IG5ldyBQbGF5ZXIoJ2h0dHBzOi8vcGxheS1zcGVjdHJ1bS5oZXJva3VhcHAuY29tL2RlcGxveS5tcDMnKVxucGxheWVyXG4gIC5kZWJ1Zyh0cnVlKVxuICAub24oJ3N0b3AnLCAoKSA9PiBzaG93VG9hc3QoJ1N0b3AuJykpXG4gIC5vbigncGF1c2UnLCAoKSA9PiBzaG93VG9hc3QoJ1BhdXNlLicpKVxuICAub24oJ3BsYXknLCAoKSA9PiB7XG4gICAgc2hvd1RvYXN0KGBQbGF5aW5nICR7ZmlsZW5hbWV9Li4uYClcbiAgICBzcGVjdHJ1bVxuICAgICAgLnNldEFuYWx5emVyKHsgYXVkaW9Db250ZXh0OiBwbGF5ZXIuY29udGV4dCwgYXVkaW9CdWZmZXI6IHBsYXllci5idWZmZXIsIGF1ZGlvU291cmNlOiBwbGF5ZXIuc291cmNlIH0pXG4gICAgICAucmVuZGVyKClcbiAgfSlcbiAgLm9uKCdmb3J3YXJkJywgc2Vjb25kcyA9PiBzaG93VG9hc3QoYEZvcndhcmQgJHtzZWNvbmRzfSBzZWNvbmRzLmApKVxuICAub24oJ3Jld2luZCcsIHNlY29uZHMgPT4gc2hvd1RvYXN0KGBSZXdpbmQgJHtzZWNvbmRzfSBzZWNvbmRzLmApKVxuICAudXNlS2V5Ym9hcmQoKVxuICAubG9hZCgpXG4gIC5wbGF5KClcbnNob3dUb2FzdCgnRHJvcCBhbiBhdWRpbyBmaWxlIHRvIHN0YXJ0IHBsYXlpbmchJylcblxuZHJhZ0Ryb3AoJ2JvZHknLCBmdW5jdGlvbiAoZmlsZXMpIHtcbiAgY29uc3QgZmlsZSA9IGZpbGVzWzBdXG4gIGNvbnNvbGUubG9nKCdHT1QgRklMRTonLCBmaWxlKVxuICBmaWxlbmFtZSA9IGZpbGUubmFtZVxuICBjb25zdCByZWFkZXIgPSBuZXcgd2luZG93LkZpbGVSZWFkZXIoKVxuICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGUgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBlLnRhcmdldC5yZXN1bHRcbiAgICBwbGF5ZXIubG9hZChkYXRhKS5wbGF5KClcbiAgfSlcbiAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdGaWxlUmVhZGVyIGVycm9yJyArIGVycilcbiAgICB0b2FzdC5zaG93KCdPb3BzISBTb21ldGhpbmcgd2VudCB3cm9uZyA6KCcpXG4gIH0pXG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlKVxufSlcblxuZnVuY3Rpb24gc2hvd1RvYXN0IChtZXNzYWdlKSB7XG4gIGlmICh0b2FzdC50b2FzdCAmJiB0b2FzdC50b2FzdC5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBzaG93VG9hc3QobWVzc2FnZSwgdG9hc3REdXJhdGlvbiksIDEwMClcbiAgICByZXR1cm5cbiAgfVxuXG4gIHRvYXN0LnNob3cobWVzc2FnZSwgdG9hc3REdXJhdGlvbilcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmxhdHRlbihsaXN0LCBkZXB0aCkge1xuICBkZXB0aCA9ICh0eXBlb2YgZGVwdGggPT0gJ251bWJlcicpID8gZGVwdGggOiBJbmZpbml0eTtcblxuICBpZiAoIWRlcHRoKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobGlzdCkpIHtcbiAgICAgIHJldHVybiBsaXN0Lm1hcChmdW5jdGlvbihpKSB7IHJldHVybiBpOyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICByZXR1cm4gX2ZsYXR0ZW4obGlzdCwgMSk7XG5cbiAgZnVuY3Rpb24gX2ZsYXR0ZW4obGlzdCwgZCkge1xuICAgIHJldHVybiBsaXN0LnJlZHVjZShmdW5jdGlvbiAoYWNjLCBpdGVtKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSAmJiBkIDwgZGVwdGgpIHtcbiAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQoX2ZsYXR0ZW4oaXRlbSwgZCArIDEpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChpdGVtKTtcbiAgICAgIH1cbiAgICB9LCBbXSk7XG4gIH1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJ1blBhcmFsbGVsXG5cbmZ1bmN0aW9uIHJ1blBhcmFsbGVsICh0YXNrcywgY2IpIHtcbiAgdmFyIHJlc3VsdHMsIHBlbmRpbmcsIGtleXNcbiAgdmFyIGlzU3luYyA9IHRydWVcblxuICBpZiAoQXJyYXkuaXNBcnJheSh0YXNrcykpIHtcbiAgICByZXN1bHRzID0gW11cbiAgICBwZW5kaW5nID0gdGFza3MubGVuZ3RoXG4gIH0gZWxzZSB7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHRhc2tzKVxuICAgIHJlc3VsdHMgPSB7fVxuICAgIHBlbmRpbmcgPSBrZXlzLmxlbmd0aFxuICB9XG5cbiAgZnVuY3Rpb24gZG9uZSAoZXJyKSB7XG4gICAgZnVuY3Rpb24gZW5kICgpIHtcbiAgICAgIGlmIChjYikgY2IoZXJyLCByZXN1bHRzKVxuICAgICAgY2IgPSBudWxsXG4gICAgfVxuICAgIGlmIChpc1N5bmMpIHByb2Nlc3MubmV4dFRpY2soZW5kKVxuICAgIGVsc2UgZW5kKClcbiAgfVxuXG4gIGZ1bmN0aW9uIGVhY2ggKGksIGVyciwgcmVzdWx0KSB7XG4gICAgcmVzdWx0c1tpXSA9IHJlc3VsdFxuICAgIGlmICgtLXBlbmRpbmcgPT09IDAgfHwgZXJyKSB7XG4gICAgICBkb25lKGVycilcbiAgICB9XG4gIH1cblxuICBpZiAoIXBlbmRpbmcpIHtcbiAgICAvLyBlbXB0eVxuICAgIGRvbmUobnVsbClcbiAgfSBlbHNlIGlmIChrZXlzKSB7XG4gICAgLy8gb2JqZWN0XG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHRhc2tzW2tleV0oZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7IGVhY2goa2V5LCBlcnIsIHJlc3VsdCkgfSlcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIC8vIGFycmF5XG4gICAgdGFza3MuZm9yRWFjaChmdW5jdGlvbiAodGFzaywgaSkge1xuICAgICAgdGFzayhmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHsgZWFjaChpLCBlcnIsIHJlc3VsdCkgfSlcbiAgICB9KVxuICB9XG5cbiAgaXNTeW5jID0gZmFsc2Vcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iXSwic291cmNlUm9vdCI6IiJ9